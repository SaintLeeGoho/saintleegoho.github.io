<!DOCTYPE html>
<html lang="zh-CN">
  <head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width,initial-scale=1">
    <title>Scala语言入门 | GohoLee</title>
    <meta name="generator" content="VuePress 1.9.7">
    <link rel="icon" href="/favicon.ico">
    <meta name="description" content="blog by GohoLee">
    <meta name="viewport" content="width=device-width,initial-scale=1,user-scalable=no">
    
    <link rel="preload" href="/assets/css/0.styles.15bca8c4.css" as="style"><link rel="preload" href="/assets/js/app.4c955a77.js" as="script"><link rel="preload" href="/assets/js/4.1f64e010.js" as="script"><link rel="preload" href="/assets/js/1.2b09ee83.js" as="script"><link rel="preload" href="/assets/js/12.46caf217.js" as="script"><link rel="prefetch" href="/assets/js/10.08341258.js"><link rel="prefetch" href="/assets/js/11.44b1e064.js"><link rel="prefetch" href="/assets/js/13.2a24eef2.js"><link rel="prefetch" href="/assets/js/14.18303fff.js"><link rel="prefetch" href="/assets/js/15.eb41772c.js"><link rel="prefetch" href="/assets/js/16.dbac35fb.js"><link rel="prefetch" href="/assets/js/17.3881a037.js"><link rel="prefetch" href="/assets/js/18.a6042dc9.js"><link rel="prefetch" href="/assets/js/19.f1b368c9.js"><link rel="prefetch" href="/assets/js/20.305a152a.js"><link rel="prefetch" href="/assets/js/21.f54a0bb0.js"><link rel="prefetch" href="/assets/js/22.e026b642.js"><link rel="prefetch" href="/assets/js/3.c860fb87.js"><link rel="prefetch" href="/assets/js/5.7d1d4fdd.js"><link rel="prefetch" href="/assets/js/6.6b47eb9b.js"><link rel="prefetch" href="/assets/js/7.1e7dcb9a.js"><link rel="prefetch" href="/assets/js/8.ff9809b2.js"><link rel="prefetch" href="/assets/js/9.30f2afa9.js">
    <link rel="stylesheet" href="/assets/css/0.styles.15bca8c4.css">
  </head>
  <body>
    <div id="app" data-server-rendered="true"><div class="theme-container no-sidebar" data-v-7dd95ae2><div data-v-7dd95ae2><div class="password-shadow password-wrapper-out" style="display:none;" data-v-59e6cb88 data-v-7dd95ae2 data-v-7dd95ae2><h3 class="title" data-v-59e6cb88>GohoLee</h3> <p class="description" data-v-59e6cb88>blog by GohoLee</p> <label id="box" class="inputBox" data-v-59e6cb88><input type="password" value="" data-v-59e6cb88> <span data-v-59e6cb88>Konck! Knock!</span> <button data-v-59e6cb88>OK</button></label> <div class="footer" data-v-59e6cb88><span data-v-59e6cb88><i class="iconfont reco-theme" data-v-59e6cb88></i> <a target="blank" href="https://vuepress-theme-reco.recoluan.com" data-v-59e6cb88>vuePress-theme-reco</a></span> <span data-v-59e6cb88><i class="iconfont reco-copyright" data-v-59e6cb88></i> <a data-v-59e6cb88><span data-v-59e6cb88>GohoLee</span>
          
        <span data-v-59e6cb88>2017 - </span>
        2023
      </a></span></div></div> <div class="hide" data-v-7dd95ae2><header class="navbar" data-v-7dd95ae2><div class="sidebar-button"><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" role="img" viewBox="0 0 448 512" class="icon"><path fill="currentColor" d="M436 124H12c-6.627 0-12-5.373-12-12V80c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12zm0 160H12c-6.627 0-12-5.373-12-12v-32c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12zm0 160H12c-6.627 0-12-5.373-12-12v-32c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12z"></path></svg></div> <a href="/" class="home-link router-link-active"><img src="/avatar.png" alt="GohoLee" class="logo"> <span class="site-name">GohoLee</span></a> <div class="links"><div class="color-picker"><a class="color-button"><i class="iconfont reco-color"></i></a> <div class="color-picker-menu" style="display:none;"><div class="mode-options"><h4 class="title">Choose mode</h4> <ul class="color-mode-options"><li class="dark">dark</li><li class="auto active">auto</li><li class="light">light</li></ul></div></div></div> <div class="search-box"><i class="iconfont reco-search"></i> <input aria-label="Search" autocomplete="off" spellcheck="false" value=""> <!----></div> <nav class="nav-links can-hide"><div class="nav-item"><a href="/" class="nav-link"><i class="iconfont reco-home"></i>
  主页Home
</a></div><div class="nav-item"><div class="dropdown-wrapper"><a class="dropdown-title"><span class="title"><i class="iconfont reco-category"></i>
      分类Category
    </span> <span class="arrow right"></span></a> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><!----> <a href="/categories/Big Data/" class="nav-link"><i class="undefined"></i>
  Big Data
</a></li><li class="dropdown-item"><!----> <a href="/categories/前端基础/" class="nav-link"><i class="undefined"></i>
  前端基础
</a></li></ul></div></div><div class="nav-item"><a href="/tag/" class="nav-link"><i class="iconfont reco-tag"></i>
  标签Tag
</a></div><div class="nav-item"><a href="/timeline/" class="nav-link"><i class="iconfont reco-date"></i>
  时间线TimeLine
</a></div><div class="nav-item"><div class="dropdown-wrapper"><a class="dropdown-title"><span class="title"><i class="iconfont reco-message"></i>
      文档Docs
    </span> <span class="arrow right"></span></a> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><!----> <a href="/docs/Saint/" class="nav-link"><i class="undefined"></i>
  关于博主
</a></li></ul></div></div><div class="nav-item"><div class="dropdown-wrapper"><a class="dropdown-title"><span class="title"><i class="iconfont reco-message"></i>
      联系Contact
    </span> <span class="arrow right"></span></a> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><!----> <a href="https://github.com/saintleegoho" target="_blank" rel="noopener noreferrer" class="nav-link external"><i class="iconfont reco-github"></i>
  GitHub
  <span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></li></ul></div></div> <!----></nav></div></header> <div class="sidebar-mask" data-v-7dd95ae2></div> <aside class="sidebar" data-v-7dd95ae2><div class="personal-info-wrapper" data-v-1fad0c41 data-v-7dd95ae2><img src="/avatar.png" alt="author-avatar" class="personal-img" data-v-1fad0c41> <h3 class="name" data-v-1fad0c41>
    GohoLee
  </h3> <div class="num" data-v-1fad0c41><div data-v-1fad0c41><h3 data-v-1fad0c41>12</h3> <h6 data-v-1fad0c41>文章</h6></div> <div data-v-1fad0c41><h3 data-v-1fad0c41>11</h3> <h6 data-v-1fad0c41>标签</h6></div></div> <ul class="social-links" data-v-1fad0c41></ul> <hr data-v-1fad0c41></div> <nav class="nav-links"><div class="nav-item"><a href="/" class="nav-link"><i class="iconfont reco-home"></i>
  主页Home
</a></div><div class="nav-item"><div class="dropdown-wrapper"><a class="dropdown-title"><span class="title"><i class="iconfont reco-category"></i>
      分类Category
    </span> <span class="arrow right"></span></a> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><!----> <a href="/categories/Big Data/" class="nav-link"><i class="undefined"></i>
  Big Data
</a></li><li class="dropdown-item"><!----> <a href="/categories/前端基础/" class="nav-link"><i class="undefined"></i>
  前端基础
</a></li></ul></div></div><div class="nav-item"><a href="/tag/" class="nav-link"><i class="iconfont reco-tag"></i>
  标签Tag
</a></div><div class="nav-item"><a href="/timeline/" class="nav-link"><i class="iconfont reco-date"></i>
  时间线TimeLine
</a></div><div class="nav-item"><div class="dropdown-wrapper"><a class="dropdown-title"><span class="title"><i class="iconfont reco-message"></i>
      文档Docs
    </span> <span class="arrow right"></span></a> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><!----> <a href="/docs/Saint/" class="nav-link"><i class="undefined"></i>
  关于博主
</a></li></ul></div></div><div class="nav-item"><div class="dropdown-wrapper"><a class="dropdown-title"><span class="title"><i class="iconfont reco-message"></i>
      联系Contact
    </span> <span class="arrow right"></span></a> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><!----> <a href="https://github.com/saintleegoho" target="_blank" rel="noopener noreferrer" class="nav-link external"><i class="iconfont reco-github"></i>
  GitHub
  <span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></li></ul></div></div> <!----></nav> <!----> </aside> <div class="password-shadow password-wrapper-in" style="display:none;" data-v-59e6cb88 data-v-7dd95ae2><h3 class="title" data-v-59e6cb88>Scala语言入门</h3> <!----> <label id="box" class="inputBox" data-v-59e6cb88><input type="password" value="" data-v-59e6cb88> <span data-v-59e6cb88>Konck! Knock!</span> <button data-v-59e6cb88>OK</button></label> <div class="footer" data-v-59e6cb88><span data-v-59e6cb88><i class="iconfont reco-theme" data-v-59e6cb88></i> <a target="blank" href="https://vuepress-theme-reco.recoluan.com" data-v-59e6cb88>vuePress-theme-reco</a></span> <span data-v-59e6cb88><i class="iconfont reco-copyright" data-v-59e6cb88></i> <a data-v-59e6cb88><span data-v-59e6cb88>GohoLee</span>
          
        <span data-v-59e6cb88>2017 - </span>
        2023
      </a></span></div></div> <div data-v-7dd95ae2><div data-v-7dd95ae2><main class="page"><section style="display:;"><div class="page-title"><h1 class="title">Scala语言入门</h1> <div data-v-8a445198><i class="iconfont reco-account" data-v-8a445198><span data-v-8a445198>GohoLee</span></i> <i class="iconfont reco-date" data-v-8a445198><span data-v-8a445198>7/10/2023</span></i> <!----> <i class="tags iconfont reco-tag" data-v-8a445198><span class="tag-item" data-v-8a445198>Scala</span></i></div></div> <div class="theme-reco-content content__default"><h1 id="scala"><a href="#scala" class="header-anchor">#</a> Scala</h1> <h2 id="_1-scala介绍"><a href="#_1-scala介绍" class="header-anchor">#</a> 1.Scala介绍</h2> <h3 id="_1-1什么是scala"><a href="#_1-1什么是scala" class="header-anchor">#</a> 1.1什么是Scala</h3> <p><img src="/assets/img/Scala简介.c5ecdb97.png" alt="image-20230710125211272"></p> <p>Scala将面向对象和函数式编程结合在一起的简洁的高级语言。Scala的静态类型有助于避免复杂应用程序中的bug，它的JVM和JavaScript运行时允许您构建高性能系统，并可以轻松访问庞大的库生态系统。因此，Scala是一种多范式的编程语言，其设计的初衷是要集成面向对象编程和函数式编程的各种特性。Scala运行于Java平台(Java虚拟机)，并兼容现有的Java程序。</p> <h3 id="_1-2为什么要学scala"><a href="#_1-2为什么要学scala" class="header-anchor">#</a> 1.2为什么要学Scala</h3> <h4 id="_1-2-1优雅"><a href="#_1-2-1优雅" class="header-anchor">#</a> 1.2.1优雅</h4> <p>这是框架设计师第一个要考虑的问题，框架的用户是应用开发程序员，API 是否优雅直接影响用户体验。</p> <h4 id="_1-2-2速度快"><a href="#_1-2-2速度快" class="header-anchor">#</a> 1.2.2速度快</h4> <p>Scala 语言表达能力强，一行代码抵得上 Java 多行，开发速度快;Scala 是静态编译的，所以和 JRuby,Groovy 比起来速度会快很多。</p> <h4 id="_1-2-3能融合到-hadoop-生态圈"><a href="#_1-2-3能融合到-hadoop-生态圈" class="header-anchor">#</a> 1.2.3能融合到 Hadoop 生态圈</h4> <p>Hadoop 现在是大数据事实标准，Spark 并不是要取代 Hadoop， 而是要完善 Hadoop 生态。JVM 语言大部分可能会想到 Java，但 Java 做出来的 API 太丑，或者想实现一个优雅的 API 太费劲。</p> <p><img src="/assets/img/ScalaVersuJava.4c73ed71.png" alt="image-20230710125725958"></p> <h2 id="_2-开发环境准备"><a href="#_2-开发环境准备" class="header-anchor">#</a> 2.开发环境准备</h2> <h3 id="_2-1scala的安装"><a href="#_2-1scala的安装" class="header-anchor">#</a> 2.1Scala的安装</h3> <h4 id="_2-1-1windows环境安装"><a href="#_2-1-1windows环境安装" class="header-anchor">#</a> 2.1.1windows环境安装</h4> <p>解压官方安装包如scala-2.11.12.zip在windows系统本机上</p> <p>配置系统环境变量:</p> <div class="language- line-numbers-mode"><pre class="language-text"><code>//自选版本以及本机路径
SCALA_HOME		C:\scala-2.11.12
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br></div></div><div class="language- line-numbers-mode"><pre class="language-text"><code>//path环境变量下，在Java环境之后
%SCALA_HOME%\bin
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br></div></div><h4 id="_2-1-2linux环境安装"><a href="#_2-1-2linux环境安装" class="header-anchor">#</a> 2.1.2linux环境安装</h4> <p>解压到指定目录</p> <div class="language-shell line-numbers-mode"><pre class="language-shell"><code><span class="token function">tar</span> <span class="token parameter variable">-zxvf</span> scala-2.11.12.tgz <span class="token parameter variable">-C</span> /usr/java
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br></div></div><p>配置环境变量，将 scala 加入到 PATH 中</p> <div class="language-shell line-numbers-mode"><pre class="language-shell"><code><span class="token function">vi</span> /etc/profile
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br></div></div><div class="language- line-numbers-mode"><pre class="language-text"><code>export JAVA_HOME=/usr/java/jdk1.8.0_111
export PATH=\$PATH:\$JAVA_HOME/bin:/usr/java/scala-2.11.12/bin
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br></div></div><h3 id="_2-2-idea-scala插件的安装"><a href="#_2-2-idea-scala插件的安装" class="header-anchor">#</a> 2.2.IDEA Scala插件的安装</h3> <p>在线安装，插件商店搜索</p> <p>或离线安装，若有下载好的安装包</p> <h3 id="_2-3idea创建helloscala工程"><a href="#_2-3idea创建helloscala工程" class="header-anchor">#</a> 2.3Idea创建HelloScala工程</h3> <p>1）打开 IDEA, 创建一个新的项目(Create New Project):</p> <p>2）选中左侧的 Scala -&gt; IDEA -&gt; Next</p> <p>3）输入项目名称 -&gt;选择scala版本, 点击 Finish 完成即可</p> <h2 id="_3-基本语法"><a href="#_3-基本语法" class="header-anchor">#</a> 3.基本语法</h2> <h3 id="_3-1-scala函数式编程体验优越感"><a href="#_3-1-scala函数式编程体验优越感" class="header-anchor">#</a> 3.1 Scala函数式编程体验优越感</h3> <div class="language-shell line-numbers-mode"><pre class="language-shell"><code>scala<span class="token operator">&gt;</span> sc.textFile<span class="token punctuation">(</span><span class="token string">&quot;file:///root/words.txt&quot;</span><span class="token punctuation">)</span>.flatMap<span class="token punctuation">(</span>_.split<span class="token punctuation">(</span><span class="token string">&quot; &quot;</span><span class="token punctuation">))</span>.map<span class="token variable"><span class="token punctuation">((</span>_<span class="token punctuation">,</span><span class="token number">1</span><span class="token punctuation">))</span></span>.reduceByKey<span class="token punctuation">(</span>_+_<span class="token punctuation">)</span>.sortBy<span class="token punctuation">(</span>-_._2<span class="token punctuation">)</span>.collect
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br></div></div><p>Scala统计单词个数:</p> <div class="language-shell line-numbers-mode"><pre class="language-shell"><code>scala<span class="token operator">&gt;</span> var arr <span class="token operator">=</span> Array<span class="token punctuation">(</span><span class="token string">&quot;hello&quot;</span>,<span class="token string">&quot;spark&quot;</span>,<span class="token string">&quot;hadoop&quot;</span>,<span class="token string">&quot;spark&quot;</span>,<span class="token string">&quot;laoyang&quot;</span>,<span class="token string">&quot;hello&quot;</span>,<span class="token string">&quot;hello&quot;</span><span class="token punctuation">)</span>
arr: Array<span class="token punctuation">[</span>String<span class="token punctuation">]</span> <span class="token operator">=</span> Array<span class="token punctuation">(</span>hello, spark, hadoop, spark, laoyang, hello, hello<span class="token punctuation">)</span>

scala<span class="token operator">&gt;</span> arr.map<span class="token variable"><span class="token punctuation">((</span>_<span class="token punctuation">,</span><span class="token number">1</span><span class="token punctuation">))</span></span>.groupBy<span class="token punctuation">(</span>_._1<span class="token punctuation">)</span>.mapValues<span class="token punctuation">(</span>_.length<span class="token punctuation">)</span>.toList.sortBy<span class="token punctuation">(</span>_._2<span class="token punctuation">)</span>
res4: List<span class="token punctuation">[</span><span class="token punctuation">(</span>String, Int<span class="token punctuation">)</span><span class="token punctuation">]</span> <span class="token operator">=</span> List<span class="token variable"><span class="token punctuation">((</span>hadoop<span class="token punctuation">,</span><span class="token number">1</span><span class="token punctuation">)</span><span class="token punctuation">,</span> <span class="token punctuation">(</span>laoyang<span class="token punctuation">,</span><span class="token number">1</span><span class="token punctuation">)</span><span class="token punctuation">,</span> <span class="token punctuation">(</span>spark<span class="token punctuation">,</span><span class="token number">2</span><span class="token punctuation">)</span><span class="token punctuation">,</span> <span class="token punctuation">(</span>hello<span class="token punctuation">,</span><span class="token number">3</span><span class="token punctuation">))</span></span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br></div></div><h3 id="_3-2-scala交互模式-窗口"><a href="#_3-2-scala交互模式-窗口" class="header-anchor">#</a> 3.2 Scala交互模式(窗口)</h3> <p>1）输入 cmd 命令, 打开 windows 控制台:</p> <p>2）输入 scala , 进入 Scala shell 交互模式:</p> <p>3）在交互式窗口下, 我们可以编写 Scala 的代码.</p> <h3 id="_3-3-数据类型"><a href="#_3-3-数据类型" class="header-anchor">#</a> 3.3 数据类型</h3> <p>Scala 和 Java 一样，有 7 种数值类型 Byte、Char、Short、Int、Long、Float 和 Double（无包装类型）和 Boolean、Unit 类型.</p> <p>注意: Unit表示无值，和其他语言中 void 等同。用作不返回任何结果的方法的结果类型。Unit 只有一个实例值，写成()。</p> <p><img src="/assets/img/Scala数据类型.f5aad5ed.png" alt="image-20230710152508646"></p> <h3 id="_3-4-变量的定义"><a href="#_3-4-变量的定义" class="header-anchor">#</a> 3.4 变量的定义</h3> <p>定义变量使用 var 或者 val 关键字.</p> <p>语法:</p> <p>var|val 变量名称 (: 数据类型) = 变量值</p> <p>注意:</p> <p>1.使用 val 修饰的变量, 值不能为修改, 相当于 java 中 final 修饰的变量.</p> <p>2.使用 var 修饰的变量, 值可以修改.</p> <p>3.定义变量时, 可以指定数据类型, 也可以不指定, 不指定时编译器会自动推测变量的数据类型.</p> <h3 id="_3-5-字符串的格式化输出"><a href="#_3-5-字符串的格式化输出" class="header-anchor">#</a> 3.5 字符串的格式化输出</h3> <div class="language-scala line-numbers-mode"><pre class="language-scala"><code><span class="token keyword">package</span> <span class="token namespace">com<span class="token punctuation">.</span>saint<span class="token punctuation">.</span>scala</span>

<span class="token keyword">class</span> Student<span class="token punctuation">(</span><span class="token keyword">val</span> name<span class="token operator">:</span><span class="token builtin">String</span><span class="token punctuation">,</span><span class="token keyword">var</span> age<span class="token operator">:</span><span class="token builtin">Int</span><span class="token punctuation">)</span>

<span class="token keyword">object</span> ScalaPrint <span class="token punctuation">{</span>
  <span class="token keyword">def</span> main<span class="token punctuation">(</span>args<span class="token operator">:</span> Array<span class="token punctuation">[</span><span class="token builtin">String</span><span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token operator">:</span> <span class="token builtin">Unit</span> <span class="token operator">=</span> <span class="token punctuation">{</span>
    <span class="token keyword">var</span> name<span class="token operator">:</span><span class="token builtin">String</span> <span class="token operator">=</span> <span class="token string">&quot;saint&quot;</span>
    <span class="token keyword">var</span> age<span class="token operator">:</span><span class="token builtin">Int</span> <span class="token operator">=</span> <span class="token number">18</span>
    <span class="token comment">//普通输出方式</span>
    println<span class="token punctuation">(</span><span class="token string">&quot;Hello World&quot;</span><span class="token punctuation">)</span>
    println<span class="token punctuation">(</span>age<span class="token operator">+</span><span class="token number">1</span><span class="token punctuation">)</span>
    <span class="token comment">//插值字符串输出方式，可以少写+号，避免字符串拼写错误出现，常见 s | f | raw 三种插值器</span>
    println<span class="token punctuation">(</span><span class="token string-interpolation"><span class="token id function">s</span><span class="token string">&quot;name = </span><span class="token interpolation"><span class="token punctuation">$</span><span class="token expression">name</span></span><span class="token string">, age = </span><span class="token interpolation"><span class="token punctuation">$</span><span class="token expression">age</span></span><span class="token string">&quot;</span></span><span class="token punctuation">)</span>
    <span class="token comment">//格式化输出</span>
    printf<span class="token punctuation">(</span><span class="token string">&quot;name = %s, age = %d\n&quot;</span><span class="token punctuation">,</span>name<span class="token punctuation">,</span>age<span class="token punctuation">)</span>
    printf<span class="token punctuation">(</span><span class="token string">&quot;name = %s, age = %d&quot;</span><span class="token punctuation">.</span>format<span class="token punctuation">(</span>name<span class="token punctuation">,</span>age<span class="token punctuation">)</span><span class="token punctuation">)</span>
    <span class="token comment">//多行输出，| 的作用主要是顶格输出</span>
    println<span class="token punctuation">(</span>
      <span class="token string-interpolation"><span class="token id function">s</span><span class="token string">&quot;&quot;&quot;
        |select
        |*
        |from user
        |where name = '</span><span class="token interpolation"><span class="token punctuation">$</span><span class="token expression">name</span></span><span class="token string">'
        |&quot;&quot;&quot;</span></span><span class="token punctuation">.</span>stripMargin<span class="token punctuation">)</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br><span class="line-number">16</span><br><span class="line-number">17</span><br><span class="line-number">18</span><br><span class="line-number">19</span><br><span class="line-number">20</span><br><span class="line-number">21</span><br><span class="line-number">22</span><br><span class="line-number">23</span><br><span class="line-number">24</span><br><span class="line-number">25</span><br><span class="line-number">26</span><br></div></div><h3 id="_3-6-条件表达式"><a href="#_3-6-条件表达式" class="header-anchor">#</a> 3.6 条件表达式</h3> <div class="language-scala line-numbers-mode"><pre class="language-scala"><code><span class="token keyword">package</span> <span class="token namespace">com<span class="token punctuation">.</span>saint<span class="token punctuation">.</span>scala</span>

<span class="token keyword">object</span> IfDemo <span class="token punctuation">{</span>
  <span class="token keyword">def</span> main<span class="token punctuation">(</span>args<span class="token operator">:</span> Array<span class="token punctuation">[</span><span class="token builtin">String</span><span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token operator">:</span> <span class="token builtin">Unit</span> <span class="token operator">=</span><span class="token punctuation">{</span>
    <span class="token keyword">val</span> age<span class="token operator">:</span><span class="token builtin">Int</span> <span class="token operator">=</span> <span class="token number">18</span>

    <span class="token keyword">var</span> out <span class="token operator">=</span> <span class="token keyword">if</span><span class="token punctuation">(</span>age <span class="token operator">&gt;=</span> <span class="token number">65</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
      <span class="token string">&quot;你已到了退休的年纪&quot;</span>
    <span class="token punctuation">}</span> <span class="token keyword">else</span> <span class="token keyword">if</span><span class="token punctuation">(</span>age <span class="token operator">==</span> <span class="token number">18</span><span class="token punctuation">)</span><span class="token punctuation">{</span><span class="token comment">//取循环体的最后一个表达式的值</span>
      <span class="token number">100</span>
      <span class="token number">18</span>
    <span class="token punctuation">}</span> <span class="token keyword">else</span><span class="token punctuation">{</span>
      <span class="token string">&quot;你既不年值十八，也未到安享晚年的年纪&quot;</span>
    <span class="token punctuation">}</span>
    <span class="token comment">//在if条件语法中,如果执行内没有执行代码或多行执行代码时,大括号不能省略,如果有且只有一句执行代码,大括号可以省略</span>
    <span class="token comment">//var out = if(age &gt;= 65) &quot;你已到了退休的年纪&quot; else if(age == 18) 18 else &quot;你既不年值十八，也未到安享晚年的年纪&quot;</span>

    println<span class="token punctuation">(</span>out<span class="token punctuation">)</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br><span class="line-number">16</span><br><span class="line-number">17</span><br><span class="line-number">18</span><br><span class="line-number">19</span><br><span class="line-number">20</span><br></div></div><h3 id="_3-7-循环语句-yield关键字"><a href="#_3-7-循环语句-yield关键字" class="header-anchor">#</a> 3.7  循环语句/yield关键字</h3> <p>语法: for(i &lt;- 表达式|集合|数组)</p> <div class="language-java line-numbers-mode"><pre class="language-java"><code><span class="token keyword">package</span> <span class="token namespace">com<span class="token punctuation">.</span>saint<span class="token punctuation">.</span>scala</span>

object <span class="token class-name">ForDemo</span> <span class="token punctuation">{</span>
  def <span class="token function">main</span><span class="token punctuation">(</span>args<span class="token operator">:</span> <span class="token class-name">Array</span><span class="token punctuation">[</span><span class="token class-name">String</span><span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token operator">:</span> <span class="token class-name">Unit</span> <span class="token operator">=</span> <span class="token punctuation">{</span>
    <span class="token keyword">var</span> arr <span class="token operator">=</span> <span class="token class-name">Array</span><span class="token punctuation">(</span><span class="token number">1</span><span class="token punctuation">,</span> <span class="token number">2</span><span class="token punctuation">,</span> <span class="token number">3</span><span class="token punctuation">,</span> <span class="token number">4</span><span class="token punctuation">,</span> <span class="token number">5</span><span class="token punctuation">)</span>

    <span class="token comment">//打印所有元素</span>
    <span class="token keyword">for</span> <span class="token punctuation">(</span>ele <span class="token operator">&lt;</span><span class="token operator">-</span> arr<span class="token punctuation">)</span> <span class="token punctuation">{</span>
      <span class="token function">println</span><span class="token punctuation">(</span>ele<span class="token punctuation">)</span>
    <span class="token punctuation">}</span>
    <span class="token comment">//to用法,，包括4</span>
    <span class="token keyword">for</span> <span class="token punctuation">(</span>i <span class="token operator">&lt;</span><span class="token operator">-</span> <span class="token number">0</span> <span class="token keyword">to</span> <span class="token number">4</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
      <span class="token function">println</span><span class="token punctuation">(</span><span class="token function">arr</span><span class="token punctuation">(</span>i<span class="token punctuation">)</span><span class="token punctuation">)</span> <span class="token comment">//通过脚标获数组中的元素</span>
    <span class="token punctuation">}</span>
    <span class="token comment">//until用法，不包括5</span>
    <span class="token keyword">for</span> <span class="token punctuation">(</span>i <span class="token operator">&lt;</span><span class="token operator">-</span> <span class="token number">0</span> until <span class="token number">5</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
      <span class="token function">println</span><span class="token punctuation">(</span><span class="token function">arr</span><span class="token punctuation">(</span>i<span class="token punctuation">)</span><span class="token punctuation">)</span>
    <span class="token punctuation">}</span>
    <span class="token comment">//if作为for的守卫语句进行过滤</span>
    <span class="token keyword">for</span> <span class="token punctuation">(</span>i <span class="token operator">&lt;</span><span class="token operator">-</span> arr <span class="token keyword">if</span> <span class="token function">arr</span><span class="token punctuation">(</span>i<span class="token punctuation">)</span> <span class="token operator">%</span> <span class="token number">2</span> <span class="token operator">==</span> <span class="token number">0</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
      <span class="token function">println</span><span class="token punctuation">(</span>i<span class="token punctuation">)</span>
    <span class="token punctuation">}</span>
    <span class="token comment">//嵌套循环</span>
    <span class="token keyword">for</span> <span class="token punctuation">(</span>i<span class="token operator">&lt;</span><span class="token operator">-</span><span class="token number">0</span> <span class="token keyword">to</span> <span class="token number">4</span><span class="token punctuation">;</span>j<span class="token operator">&lt;</span><span class="token operator">-</span><span class="token number">0</span> until <span class="token number">5</span><span class="token punctuation">;</span><span class="token keyword">if</span> i<span class="token operator">!=</span>j<span class="token punctuation">)</span><span class="token punctuation">{</span>
      <span class="token function">println</span><span class="token punctuation">(</span>s<span class="token string">&quot;(${arr(i)}, ${arr(j)})&quot;</span><span class="token punctuation">)</span>
    <span class="token punctuation">}</span>
    <span class="token comment">//一般scala中yield和for循环一起使用，基于原始集合返回一个新可迭代集合</span>
    <span class="token keyword">var</span> buffer <span class="token operator">=</span> <span class="token keyword">for</span> <span class="token punctuation">(</span>e <span class="token operator">&lt;</span><span class="token operator">-</span> arr <span class="token keyword">if</span> e<span class="token operator">%</span><span class="token number">2</span><span class="token operator">==</span><span class="token number">0</span><span class="token punctuation">)</span> <span class="token keyword">yield</span> e
    <span class="token function">println</span><span class="token punctuation">(</span>buffer<span class="token punctuation">.</span>toBuffer<span class="token punctuation">)</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br><span class="line-number">16</span><br><span class="line-number">17</span><br><span class="line-number">18</span><br><span class="line-number">19</span><br><span class="line-number">20</span><br><span class="line-number">21</span><br><span class="line-number">22</span><br><span class="line-number">23</span><br><span class="line-number">24</span><br><span class="line-number">25</span><br><span class="line-number">26</span><br><span class="line-number">27</span><br><span class="line-number">28</span><br><span class="line-number">29</span><br><span class="line-number">30</span><br><span class="line-number">31</span><br></div></div><p>对于for循环的每次迭代，yield都会生成一个将被记住的值。就像有一个你看不见的缓冲区，for循环的每一次迭代都会将另一个新的值添加到该缓冲区。</p> <p>作业1:古典问题:有一对兔子,从出生后第3个月起每个月都生一对兔子,小兔子长到第三个月后每个月又生一对兔子,假如兔子都不死,问每个月的兔子总数为多少?</p> <div class="language-scala line-numbers-mode"><pre class="language-scala"><code><span class="token keyword">package</span> <span class="token namespace">com<span class="token punctuation">.</span>saint<span class="token punctuation">.</span>scala</span>

<span class="token keyword">object</span> RabbitCount <span class="token punctuation">{</span>
  <span class="token keyword">def</span> main<span class="token punctuation">(</span>args<span class="token operator">:</span> Array<span class="token punctuation">[</span><span class="token builtin">String</span><span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token operator">:</span> <span class="token builtin">Unit</span> <span class="token operator">=</span> <span class="token punctuation">{</span>
    print<span class="token punctuation">(</span><span class="token string">&quot;请输入月份: &quot;</span><span class="token punctuation">)</span>
    <span class="token keyword">val</span> months <span class="token operator">=</span> scala<span class="token punctuation">.</span>io<span class="token punctuation">.</span>StdIn<span class="token punctuation">.</span>readInt<span class="token punctuation">(</span><span class="token punctuation">)</span>
    <span class="token keyword">val</span> totalRabbits <span class="token operator">=</span> countRabbit<span class="token punctuation">(</span>months<span class="token punctuation">)</span>
    println<span class="token punctuation">(</span><span class="token string-interpolation"><span class="token id function">s</span><span class="token string">&quot;第</span><span class="token interpolation"><span class="token punctuation">${</span><span class="token expression">months</span><span class="token punctuation">}</span></span><span class="token string">个月时，兔子的总数为：</span><span class="token interpolation"><span class="token punctuation">${</span><span class="token expression">totalRabbits</span><span class="token punctuation">}</span></span><span class="token string">&quot;</span></span><span class="token punctuation">)</span>
  <span class="token punctuation">}</span>

  <span class="token keyword">def</span> countRabbit<span class="token punctuation">(</span>months<span class="token operator">:</span> <span class="token builtin">Int</span><span class="token punctuation">)</span><span class="token operator">:</span> <span class="token builtin">Int</span> <span class="token operator">=</span> <span class="token punctuation">{</span>
    <span class="token keyword">if</span> <span class="token punctuation">(</span>months <span class="token operator">==</span> <span class="token number">1</span> <span class="token operator">||</span> months <span class="token operator">==</span> <span class="token number">2</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
      <span class="token number">2</span>
    <span class="token punctuation">}</span> <span class="token keyword">else</span> <span class="token punctuation">{</span>
      <span class="token keyword">var</span> prevSum <span class="token operator">=</span> <span class="token number">2</span>
      <span class="token keyword">var</span> currentSum <span class="token operator">=</span> <span class="token number">2</span>
      <span class="token keyword">for</span> <span class="token punctuation">(</span>_ <span class="token keyword">&lt;-</span> <span class="token number">3</span> to <span class="token namespace">months</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token keyword">val</span> totalSum <span class="token operator">=</span> prevSum <span class="token operator">+</span> currentSum
        prevSum <span class="token operator">=</span> currentSum
        currentSum <span class="token operator">=</span> totalSum
      <span class="token punctuation">}</span>
      currentSum
    <span class="token punctuation">}</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br><span class="line-number">16</span><br><span class="line-number">17</span><br><span class="line-number">18</span><br><span class="line-number">19</span><br><span class="line-number">20</span><br><span class="line-number">21</span><br><span class="line-number">22</span><br><span class="line-number">23</span><br><span class="line-number">24</span><br><span class="line-number">25</span><br></div></div><p>作业2:编写一个scala程序,用if else判断某一年是否是闰年</p> <div class="language-scala line-numbers-mode"><pre class="language-scala"><code><span class="token keyword">package</span> <span class="token namespace">com<span class="token punctuation">.</span>saint<span class="token punctuation">.</span>scala</span>

<span class="token keyword">object</span> LeapYear <span class="token punctuation">{</span>
  <span class="token keyword">def</span> main<span class="token punctuation">(</span>args<span class="token operator">:</span> Array<span class="token punctuation">[</span><span class="token builtin">String</span><span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token operator">:</span> <span class="token builtin">Unit</span> <span class="token operator">=</span> <span class="token punctuation">{</span>
    print<span class="token punctuation">(</span><span class="token string">&quot;请输入年份: &quot;</span><span class="token punctuation">)</span>
    <span class="token keyword">val</span> year <span class="token operator">=</span> scala<span class="token punctuation">.</span>io<span class="token punctuation">.</span>StdIn<span class="token punctuation">.</span>readInt<span class="token punctuation">(</span><span class="token punctuation">)</span>
    <span class="token keyword">if</span><span class="token punctuation">(</span>isLeapYear<span class="token punctuation">(</span>year<span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">{</span>
      println<span class="token punctuation">(</span><span class="token string-interpolation"><span class="token id function">s</span><span class="token string">&quot;</span><span class="token interpolation"><span class="token punctuation">${</span><span class="token expression">year</span><span class="token punctuation">}</span></span><span class="token string">年是闰年&quot;</span></span><span class="token punctuation">)</span>
    <span class="token punctuation">}</span> <span class="token keyword">else</span> <span class="token punctuation">{</span>
      println<span class="token punctuation">(</span><span class="token string-interpolation"><span class="token id function">s</span><span class="token string">&quot;</span><span class="token interpolation"><span class="token punctuation">${</span><span class="token expression">year</span><span class="token punctuation">}</span></span><span class="token string">年不是闰年&quot;</span></span><span class="token punctuation">)</span>
    <span class="token punctuation">}</span>
  <span class="token punctuation">}</span>

  <span class="token keyword">def</span> isLeapYear<span class="token punctuation">(</span>year<span class="token operator">:</span> <span class="token builtin">Int</span><span class="token punctuation">)</span><span class="token operator">:</span> <span class="token builtin">Boolean</span> <span class="token operator">=</span> <span class="token punctuation">{</span>
    <span class="token punctuation">(</span>year <span class="token operator">%</span> <span class="token number">4</span> <span class="token operator">==</span> <span class="token number">0</span><span class="token punctuation">)</span> <span class="token operator">&amp;&amp;</span> <span class="token punctuation">(</span>year <span class="token operator">%</span> <span class="token number">100</span> <span class="token operator">!=</span> <span class="token number">0</span> <span class="token operator">||</span> year <span class="token operator">%</span> <span class="token number">400</span> <span class="token operator">==</span> <span class="token number">0</span><span class="token punctuation">)</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br><span class="line-number">16</span><br><span class="line-number">17</span><br></div></div><p>作业3: 九九乘法口诀表输出</p> <div class="language-scala line-numbers-mode"><pre class="language-scala"><code><span class="token keyword">package</span> <span class="token namespace">com<span class="token punctuation">.</span>saint<span class="token punctuation">.</span>scala</span>

<span class="token keyword">object</span> MultiplicationTable <span class="token punctuation">{</span>
  <span class="token keyword">def</span> main<span class="token punctuation">(</span>args<span class="token operator">:</span> Array<span class="token punctuation">[</span><span class="token builtin">String</span><span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token operator">:</span> <span class="token builtin">Unit</span> <span class="token operator">=</span> <span class="token punctuation">{</span>
    printMultiplicationTable<span class="token punctuation">(</span><span class="token punctuation">)</span>
  <span class="token punctuation">}</span>

  <span class="token keyword">def</span> printMultiplicationTable<span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token operator">:</span> <span class="token builtin">Unit</span> <span class="token operator">=</span> <span class="token punctuation">{</span>
    <span class="token keyword">val</span> mul <span class="token operator">=</span> <span class="token string">&quot;x&quot;</span>
    <span class="token keyword">for</span> <span class="token punctuation">(</span>i <span class="token keyword">&lt;-</span> <span class="token number">1</span> to <span class="token number">9</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
      <span class="token keyword">for</span> <span class="token punctuation">(</span>j <span class="token keyword">&lt;-</span> <span class="token number">1</span> to <span class="token namespace">i</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
        print<span class="token punctuation">(</span><span class="token string-interpolation"><span class="token id function">s</span><span class="token string">&quot;</span><span class="token interpolation"><span class="token punctuation">$</span><span class="token expression">j</span></span><span class="token interpolation"><span class="token punctuation">$</span><span class="token expression">mul</span></span><span class="token interpolation"><span class="token punctuation">$</span><span class="token expression">i</span></span><span class="token string">=</span><span class="token interpolation"><span class="token punctuation">${</span><span class="token expression">i <span class="token operator">*</span> j</span><span class="token punctuation">}</span></span><span class="token string">\t&quot;</span></span><span class="token punctuation">)</span>
      <span class="token punctuation">}</span>
      println<span class="token punctuation">(</span><span class="token punctuation">)</span>
    <span class="token punctuation">}</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br><span class="line-number">16</span><br><span class="line-number">17</span><br></div></div><h3 id="_3-8-运算符-运算符重载"><a href="#_3-8-运算符-运算符重载" class="header-anchor">#</a> 3.8 运算符/运算符重载</h3> <p>Scala中的运算符+ - * % 等操作的作用和java中的一样, 位操作符 &amp; | ^ &gt;&gt; &lt;&lt; 也和java是一样的.</p> <p>在Scala中,不完全和java一样,java是运算符,而在scala中是方法。示例:</p> <div class="language-scala line-numbers-mode"><pre class="language-scala"><code><span class="token keyword">package</span> <span class="token namespace">com<span class="token punctuation">.</span>saint<span class="token punctuation">.</span>scala</span>

<span class="token keyword">object</span> OperatorDemo <span class="token punctuation">{</span>
  <span class="token keyword">var</span> a <span class="token operator">=</span><span class="token number">10</span>
  <span class="token keyword">val</span> b <span class="token operator">=</span> <span class="token number">20</span>

  println<span class="token punctuation">(</span>a<span class="token operator">+</span>b<span class="token punctuation">)</span>
  println<span class="token punctuation">(</span>a<span class="token punctuation">.</span>+<span class="token punctuation">(</span>b<span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token comment">//操作符</span>
<span class="token punctuation">}</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br></div></div><h3 id="_3-9-方法的定义与调用"><a href="#_3-9-方法的定义与调用" class="header-anchor">#</a> 3.9 方法的定义与调用</h3> <p><img src="/assets/img/image-20230710180814234.04a7db04.png" alt="image-20230710180814234"></p> <p>示例:</p> <div class="language-scala line-numbers-mode"><pre class="language-scala"><code><span class="token keyword">package</span> <span class="token namespace">com<span class="token punctuation">.</span>saint<span class="token punctuation">.</span>scala</span>

<span class="token comment">//App是scala语言内置的一个特质，使用它，则把对应object内部的整体作为scala main的一部分，有延迟启动的特性。</span>
<span class="token keyword">object</span> MethodDefaultDemo <span class="token keyword">extends</span> App<span class="token punctuation">{</span>
  <span class="token comment">//定义sum方法,有两个参数是Int类型,方法的返回值为Int类型</span>
  <span class="token comment">//定义一个求两个数据之和的方法</span>
  <span class="token keyword">def</span> add<span class="token punctuation">(</span>a<span class="token operator">:</span><span class="token builtin">Int</span><span class="token punctuation">,</span>b<span class="token operator">:</span><span class="token builtin">Int</span><span class="token punctuation">)</span><span class="token operator">:</span><span class="token builtin">Int</span> <span class="token operator">=</span> a <span class="token operator">+</span> b
  <span class="token keyword">var</span> sum  <span class="token operator">=</span> add<span class="token punctuation">(</span><span class="token number">10</span><span class="token punctuation">,</span><span class="token number">20</span><span class="token punctuation">)</span>
  println<span class="token punctuation">(</span>sum<span class="token punctuation">)</span>

  <span class="token comment">//无参数方法</span>
  <span class="token keyword">def</span> sayHello1<span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token operator">:</span> <span class="token builtin">Unit</span> <span class="token operator">=</span> println<span class="token punctuation">(</span><span class="token string">&quot;hello1&quot;</span><span class="token punctuation">)</span><span class="token comment">//形参为空</span>
  sayHello1 <span class="token comment">//可以调用</span>
  sayHello1<span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token comment">//可以调用</span>

  <span class="token keyword">def</span> sayHello2<span class="token operator">:</span> <span class="token builtin">Unit</span> <span class="token operator">=</span> println<span class="token punctuation">(</span><span class="token string">&quot;hello2&quot;</span><span class="token punctuation">)</span><span class="token comment">//规定了不接受形参</span>
  sayHello2 <span class="token comment">//可以调用</span>
  <span class="token comment">//sayHello2() //不可以调用</span>

  <span class="token comment">//函数变量与函数类型定义</span>
  <span class="token keyword">val</span> fn <span class="token operator">:</span> <span class="token punctuation">(</span><span class="token builtin">Int</span><span class="token punctuation">,</span><span class="token builtin">Int</span><span class="token punctuation">)</span> <span class="token keyword">=&gt;</span> <span class="token builtin">Int</span> <span class="token operator">=</span> <span class="token punctuation">(</span>a<span class="token punctuation">,</span>b<span class="token punctuation">)</span> <span class="token keyword">=&gt;</span> a<span class="token operator">+</span>b
  println<span class="token punctuation">(</span>fn<span class="token punctuation">(</span><span class="token number">2</span><span class="token punctuation">,</span><span class="token number">3</span><span class="token punctuation">)</span><span class="token punctuation">)</span>
<span class="token punctuation">}</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br><span class="line-number">16</span><br><span class="line-number">17</span><br><span class="line-number">18</span><br><span class="line-number">19</span><br><span class="line-number">20</span><br><span class="line-number">21</span><br><span class="line-number">22</span><br><span class="line-number">23</span><br></div></div><p>作业1:定义一个方法名为sum,有三参数,求三个数的和.</p> <div class="language-scala line-numbers-mode"><pre class="language-scala"><code><span class="token comment">//定义sum方法,有三个参数是Int类型,方法的返回值为Int类型</span>
<span class="token keyword">def</span> sum<span class="token punctuation">(</span>x<span class="token operator">:</span> <span class="token builtin">Int</span><span class="token punctuation">,</span> y<span class="token operator">:</span> <span class="token builtin">Int</span><span class="token punctuation">,</span> z<span class="token operator">:</span><span class="token builtin">Int</span><span class="token punctuation">)</span><span class="token operator">:</span> <span class="token builtin">Int</span> <span class="token operator">=</span> <span class="token punctuation">{</span>
    x<span class="token operator">+</span>y<span class="token operator">+</span>z
<span class="token punctuation">}</span>
<span class="token comment">//或者</span>
<span class="token keyword">val</span> sum<span class="token operator">:</span><span class="token punctuation">(</span><span class="token builtin">Int</span><span class="token punctuation">,</span><span class="token builtin">Int</span><span class="token punctuation">,</span><span class="token builtin">Int</span><span class="token punctuation">)</span> <span class="token keyword">=&gt;</span> <span class="token builtin">Int</span> <span class="token operator">=</span> <span class="token punctuation">(</span>x<span class="token punctuation">,</span>y<span class="token punctuation">,</span>z<span class="token punctuation">)</span> <span class="token keyword">=&gt;</span> x <span class="token operator">+</span> y <span class="token operator">+</span> z
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br></div></div><h3 id="_3-10-函数的定义与调用"><a href="#_3-10-函数的定义与调用" class="header-anchor">#</a> 3.10 函数的定义与调用</h3> <p>方法转换为函数(命令行举例)</p> <p>格式: 方法名&quot; &quot;_</p> <div class="language-shell line-numbers-mode"><pre class="language-shell"><code>scala<span class="token operator">&gt;</span> val fn <span class="token operator">=</span>add _
fn: <span class="token punctuation">(</span>Int, Int<span class="token punctuation">)</span> <span class="token operator">=</span><span class="token operator">&gt;</span> Int <span class="token operator">=</span> <span class="token operator">&lt;</span>function<span class="token operator"><span class="token file-descriptor important">2</span>&gt;</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br></div></div><p>函数定义的方式一:</p> <div class="language-shell line-numbers-mode"><pre class="language-shell"><code>scala<span class="token operator">&gt;</span> val fn <span class="token operator">=</span> <span class="token punctuation">(</span>x:Int<span class="token punctuation">)</span> <span class="token operator">=</span><span class="token operator">&gt;</span> x*10
fn: Int <span class="token operator">=</span><span class="token operator">&gt;</span> Int <span class="token operator">=</span> <span class="token operator">&lt;</span>function<span class="token operator">&gt;</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br></div></div><p>函数定义的方法二:</p> <div class="language-shell line-numbers-mode"><pre class="language-shell"><code>scala<span class="token operator">&gt;</span> val fn2:<span class="token punctuation">(</span>Int, Int<span class="token punctuation">)</span> <span class="token operator">=</span><span class="token operator">&gt;</span> Int <span class="token operator">=</span> <span class="token punctuation">(</span>a,b<span class="token punctuation">)</span> <span class="token operator">=</span><span class="token operator">&gt;</span> a*b
fn2: <span class="token punctuation">(</span>Int, Int<span class="token punctuation">)</span> <span class="token operator">=</span><span class="token operator">&gt;</span> Int <span class="token operator">=</span> <span class="token operator">&lt;</span>function<span class="token operator"><span class="token file-descriptor important">2</span>&gt;</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br></div></div><p>没有参数的函数定义方式:</p> <div class="language- line-numbers-mode"><pre class="language-text"><code>scala&gt; val fn3:() =&gt; Int =() =&gt; 1
fn3: () =&gt; Int = &lt;function0&gt;
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br></div></div><h3 id="_3-11-传值调用与传名调用"><a href="#_3-11-传值调用与传名调用" class="header-anchor">#</a> 3.11 传值调用与传名调用</h3> <p>通常，函数的参数是传值参数; 也就是说，参数的值在传递给函数之前确定。</p> <p>其实, 在 Scala 中, 我们方法或者函数的参数可以是一个表达式, 也就是将一个代码逻辑传递给了某个方法或者函数.</p> <div class="language-java line-numbers-mode"><pre class="language-java"><code><span class="token keyword">package</span> <span class="token namespace">com<span class="token punctuation">.</span>saint<span class="token punctuation">.</span>scala</span>

object <span class="token class-name">CallByValueAndName</span> <span class="token punctuation">{</span>

  <span class="token comment">//定义银行卡</span>
  <span class="token keyword">var</span> money <span class="token operator">=</span> <span class="token number">50</span>

  <span class="token comment">//每次扣5块钱</span>
  def <span class="token function">huaQian</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token operator">:</span><span class="token class-name">Unit</span> <span class="token operator">=</span><span class="token punctuation">{</span>
    money <span class="token operator">=</span> money<span class="token operator">-</span><span class="token number">5</span>
  <span class="token punctuation">}</span>

  <span class="token comment">//数钱  看看卡里的钱</span>
  def <span class="token function">shuQian</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token operator">:</span><span class="token class-name">Int</span> <span class="token operator">=</span><span class="token punctuation">{</span>
    huaQian
    money
  <span class="token punctuation">}</span>

  <span class="token comment">//传值调用的方法</span>
  def <span class="token function">printByValue</span><span class="token punctuation">(</span>x <span class="token operator">:</span> <span class="token class-name">Int</span><span class="token punctuation">)</span><span class="token operator">:</span><span class="token class-name">Unit</span> <span class="token operator">=</span><span class="token punctuation">{</span>
    <span class="token keyword">for</span> <span class="token punctuation">(</span>a <span class="token operator">&lt;</span><span class="token operator">-</span> <span class="token number">0</span> until <span class="token number">3</span><span class="token punctuation">)</span><span class="token punctuation">{</span>
      <span class="token function">println</span><span class="token punctuation">(</span>s<span class="token string">&quot;测试:${x}元&quot;</span><span class="token punctuation">)</span>
  	<span class="token punctuation">}</span>
  <span class="token punctuation">}</span>

  <span class="token comment">//传名调用的方法，x: =&gt; Int 表示传递的是函数(方法签名) ==&gt; 表示一个没有参数,有返回值为Int类型的函数</span>
  def <span class="token function">printByName</span><span class="token punctuation">(</span>x<span class="token operator">:</span> <span class="token operator">=</span><span class="token operator">&gt;</span> <span class="token class-name">Int</span><span class="token punctuation">)</span><span class="token operator">:</span><span class="token class-name">Unit</span> <span class="token operator">=</span> <span class="token punctuation">{</span>
    <span class="token keyword">for</span> <span class="token punctuation">(</span>a <span class="token operator">&lt;</span><span class="token operator">-</span> <span class="token number">0</span> <span class="token keyword">to</span> <span class="token number">3</span><span class="token punctuation">)</span><span class="token punctuation">{</span>
      <span class="token function">println</span><span class="token punctuation">(</span>s<span class="token string">&quot;每次剩下的钱:${x}元&quot;</span><span class="token punctuation">)</span><span class="token comment">//执行了4次x函数，即shuQian</span>
    <span class="token punctuation">}</span>
  <span class="token punctuation">}</span>


  def <span class="token function">main</span><span class="token punctuation">(</span>args<span class="token operator">:</span> <span class="token class-name">Array</span><span class="token punctuation">[</span><span class="token class-name">String</span><span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token operator">:</span> <span class="token class-name">Unit</span> <span class="token operator">=</span> <span class="token punctuation">{</span>
    <span class="token comment">//传名(函数)调用</span>
    <span class="token comment">//将shuQian执行逻辑传给printByName方法,所以,在方法的内部执行逻辑</span>
    <span class="token function">printByName</span><span class="token punctuation">(</span>shuQian<span class="token punctuation">)</span>

    <span class="token comment">//传值调用 传进printByValue的参数为具体的一个值</span>
    <span class="token comment">// 1.计算shuQian的返回值</span>
    <span class="token comment">// 2.将shuQian返回值作为参数传递给printByValue方法</span>
    <span class="token function">printByValue</span><span class="token punctuation">(</span>shuQian<span class="token punctuation">)</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br><span class="line-number">16</span><br><span class="line-number">17</span><br><span class="line-number">18</span><br><span class="line-number">19</span><br><span class="line-number">20</span><br><span class="line-number">21</span><br><span class="line-number">22</span><br><span class="line-number">23</span><br><span class="line-number">24</span><br><span class="line-number">25</span><br><span class="line-number">26</span><br><span class="line-number">27</span><br><span class="line-number">28</span><br><span class="line-number">29</span><br><span class="line-number">30</span><br><span class="line-number">31</span><br><span class="line-number">32</span><br><span class="line-number">33</span><br><span class="line-number">34</span><br><span class="line-number">35</span><br><span class="line-number">36</span><br><span class="line-number">37</span><br><span class="line-number">38</span><br><span class="line-number">39</span><br><span class="line-number">40</span><br><span class="line-number">41</span><br><span class="line-number">42</span><br><span class="line-number">43</span><br><span class="line-number">44</span><br></div></div><h3 id="_3-12-可变参数函数-底层数组"><a href="#_3-12-可变参数函数-底层数组" class="header-anchor">#</a> 3.12 可变参数函数（底层数组）</h3> <p>可变参数使用的字符是* ,多个参数列表时,可变参数必须写在参数的末尾</p> <div class="language-scala line-numbers-mode"><pre class="language-scala"><code><span class="token keyword">package</span> <span class="token namespace">com<span class="token punctuation">.</span>saint<span class="token punctuation">.</span>scala</span>

<span class="token keyword">object</span> ManyParams <span class="token punctuation">{</span>

  <span class="token comment">//可变参数: 在参数的后面加上*</span>
  <span class="token keyword">def</span> add<span class="token punctuation">(</span>ints<span class="token operator">:</span> <span class="token builtin">Int</span><span class="token operator">*</span><span class="token punctuation">)</span><span class="token operator">:</span> <span class="token builtin">Int</span> <span class="token operator">=</span> <span class="token punctuation">{</span>
    <span class="token keyword">var</span> sum <span class="token operator">=</span> <span class="token number">0</span>
    <span class="token keyword">for</span> <span class="token punctuation">(</span>v <span class="token keyword">&lt;-</span> ints<span class="token punctuation">)</span> <span class="token punctuation">{</span>
      sum <span class="token operator">+=</span> v
    <span class="token punctuation">}</span>
    sum
  <span class="token punctuation">}</span>

  <span class="token comment">//可变参数:有多个参数时,可变参数必须放在参数列表的末尾</span>
  <span class="token keyword">def</span> add2<span class="token punctuation">(</span>initValue<span class="token operator">:</span> <span class="token builtin">Int</span><span class="token punctuation">,</span> ints<span class="token operator">:</span> <span class="token builtin">Int</span><span class="token operator">*</span><span class="token punctuation">)</span><span class="token operator">:</span> <span class="token builtin">Int</span> <span class="token operator">=</span> <span class="token punctuation">{</span>
    <span class="token keyword">var</span> sum <span class="token operator">=</span> initValue
    <span class="token keyword">for</span> <span class="token punctuation">(</span>v <span class="token keyword">&lt;-</span> ints<span class="token punctuation">)</span> <span class="token punctuation">{</span>
      sum <span class="token operator">+=</span> v
    <span class="token punctuation">}</span>
    sum
  <span class="token punctuation">}</span>

  <span class="token comment">//任意数量、任意类型的Any</span>
  <span class="token keyword">def</span> AnyParams<span class="token punctuation">(</span>anys<span class="token operator">:</span> <span class="token builtin">Any</span><span class="token operator">*</span><span class="token punctuation">)</span><span class="token operator">:</span> <span class="token builtin">Unit</span> <span class="token operator">=</span> <span class="token punctuation">{</span>

  <span class="token punctuation">}</span>

  <span class="token keyword">def</span> main<span class="token punctuation">(</span>args<span class="token operator">:</span> Array<span class="token punctuation">[</span><span class="token builtin">String</span><span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token operator">:</span> <span class="token builtin">Unit</span> <span class="token operator">=</span> <span class="token punctuation">{</span>
    <span class="token keyword">val</span> r <span class="token operator">=</span> add<span class="token punctuation">(</span><span class="token number">1</span><span class="token punctuation">,</span> <span class="token number">2</span><span class="token punctuation">,</span> <span class="token number">3</span><span class="token punctuation">,</span> <span class="token number">4</span><span class="token punctuation">)</span>
    println<span class="token punctuation">(</span>r<span class="token punctuation">)</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br><span class="line-number">16</span><br><span class="line-number">17</span><br><span class="line-number">18</span><br><span class="line-number">19</span><br><span class="line-number">20</span><br><span class="line-number">21</span><br><span class="line-number">22</span><br><span class="line-number">23</span><br><span class="line-number">24</span><br><span class="line-number">25</span><br><span class="line-number">26</span><br><span class="line-number">27</span><br><span class="line-number">28</span><br><span class="line-number">29</span><br><span class="line-number">30</span><br><span class="line-number">31</span><br><span class="line-number">32</span><br></div></div><h3 id="_3-13-默认参数值函数"><a href="#_3-13-默认参数值函数" class="header-anchor">#</a> 3.13 默认参数值函数</h3> <div class="language-scala line-numbers-mode"><pre class="language-scala"><code><span class="token keyword">package</span> <span class="token namespace">com<span class="token punctuation">.</span>saint<span class="token punctuation">.</span>scala</span>

<span class="token keyword">object</span> DefaultParams <span class="token punctuation">{</span>

  <span class="token comment">//参数的默认值</span>
  <span class="token keyword">def</span> add<span class="token punctuation">(</span>a<span class="token operator">:</span><span class="token builtin">Int</span> <span class="token operator">=</span><span class="token number">6</span><span class="token punctuation">,</span>b<span class="token operator">:</span><span class="token builtin">Int</span><span class="token operator">=</span><span class="token number">10</span><span class="token punctuation">)</span><span class="token operator">:</span><span class="token builtin">Int</span><span class="token operator">=</span><span class="token punctuation">{</span>
    a<span class="token operator">+</span>b
  <span class="token punctuation">}</span>
  
  <span class="token keyword">def</span> main<span class="token punctuation">(</span>args<span class="token operator">:</span> Array<span class="token punctuation">[</span><span class="token builtin">String</span><span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token operator">:</span> <span class="token builtin">Unit</span> <span class="token operator">=</span> <span class="token punctuation">{</span>
    println<span class="token punctuation">(</span>add<span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token comment">//方法参数有默认值，16</span>
    println<span class="token punctuation">(</span>add<span class="token punctuation">(</span><span class="token number">9</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token comment">//第一个参数接受了传参，19</span>
    println<span class="token punctuation">(</span>add<span class="token punctuation">(</span>b<span class="token operator">=</span><span class="token number">9</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token comment">//同名参数指定值，15</span>
    println<span class="token punctuation">(</span>add<span class="token punctuation">(</span>b<span class="token operator">=</span><span class="token number">9</span><span class="token punctuation">,</span>a<span class="token operator">=</span><span class="token number">3</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token comment">//同名参数指定值，12</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br><span class="line-number">16</span><br></div></div><h3 id="_3-14-高阶函数"><a href="#_3-14-高阶函数" class="header-anchor">#</a> 3.14 高阶函数</h3> <p>高阶函数: 将其他函数作为参数或其结果是函数的函数。</p> <div class="language-scala line-numbers-mode"><pre class="language-scala"><code><span class="token keyword">package</span> <span class="token namespace">com<span class="token punctuation">.</span>saint<span class="token punctuation">.</span>scala</span>

<span class="token keyword">object</span> HigherOrderFun <span class="token punctuation">{</span>
  <span class="token comment">//apply是一个高阶函数,第一个参数是一个函数,该函数是将Int的值转换成String类型的值,第二个参数是Int类型参数</span>
  <span class="token keyword">def</span> apply<span class="token punctuation">(</span>f<span class="token operator">:</span><span class="token builtin">Int</span><span class="token keyword">=&gt;</span><span class="token builtin">String</span><span class="token punctuation">,</span>v<span class="token operator">:</span><span class="token builtin">Int</span><span class="token punctuation">)</span><span class="token operator">=</span>f<span class="token punctuation">(</span>v<span class="token punctuation">)</span>

  <span class="token comment">//layout函数是一个普通函数,它有一个参数,参数类型为Int类型,函数的执行结果类型是String</span>
  <span class="token keyword">def</span> layout<span class="token punctuation">(</span>x<span class="token operator">:</span><span class="token builtin">Int</span><span class="token punctuation">)</span> <span class="token operator">=</span> <span class="token string">&quot;[&quot;</span><span class="token operator">+</span>x<span class="token punctuation">.</span>toString<span class="token operator">+</span><span class="token string">&quot;]&quot;</span>

  <span class="token comment">//调用方法</span>
  println<span class="token punctuation">(</span>apply<span class="token punctuation">(</span>layout<span class="token punctuation">,</span><span class="token number">4</span><span class="token punctuation">)</span><span class="token punctuation">)</span>
<span class="token punctuation">}</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br></div></div><h3 id="_3-15-部分参数应用函数"><a href="#_3-15-部分参数应用函数" class="header-anchor">#</a> 3.15 部分参数应用函数</h3> <p>如果函数传递所有预期的参数，则表示已完全应用它。 如果只传递几个参数并不是全部参数，那么将返回部分应用的函数。这样就可以方便地绑定一些参数，其余的参数可稍后填写补上。</p> <div class="language-scala line-numbers-mode"><pre class="language-scala"><code><span class="token keyword">package</span> <span class="token namespace">com<span class="token punctuation">.</span>saint<span class="token punctuation">.</span>scala</span>

<span class="token keyword">object</span> PartFunction <span class="token keyword">extends</span> App <span class="token punctuation">{</span>
  <span class="token comment">//定义函数</span>
  <span class="token keyword">var</span> fun<span class="token operator">:</span><span class="token punctuation">(</span><span class="token builtin">Int</span><span class="token punctuation">,</span> <span class="token builtin">Int</span><span class="token punctuation">)</span> <span class="token keyword">=&gt;</span> <span class="token builtin">Int</span> <span class="token operator">=</span> <span class="token punctuation">(</span>a<span class="token punctuation">,</span>b<span class="token punctuation">)</span> <span class="token keyword">=&gt;</span> a<span class="token operator">+</span>b
  <span class="token comment">//参数完备执行</span>
  println<span class="token punctuation">(</span>fun<span class="token punctuation">(</span><span class="token number">1</span><span class="token punctuation">,</span><span class="token number">3</span><span class="token punctuation">)</span><span class="token punctuation">)</span>
  <span class="token comment">//部分应用，包含半个参数的新function</span>
  <span class="token keyword">var</span> partFun <span class="token operator">=</span> fun<span class="token punctuation">(</span><span class="token number">1</span><span class="token punctuation">,</span>_<span class="token operator">:</span><span class="token builtin">Int</span><span class="token punctuation">)</span>
  println<span class="token punctuation">(</span>partFun<span class="token punctuation">)</span>
  <span class="token comment">//补全剩下参数</span>
  println<span class="token punctuation">(</span>partFun<span class="token punctuation">(</span><span class="token number">10</span><span class="token punctuation">)</span><span class="token punctuation">)</span>
<span class="token punctuation">}</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br></div></div><p>示例：打印日志的方法</p> <div class="language-scala line-numbers-mode"><pre class="language-scala"><code><span class="token keyword">package</span> <span class="token namespace">com<span class="token punctuation">.</span>saint<span class="token punctuation">.</span>scala</span>
<span class="token keyword">import</span> <span class="token namespace">java<span class="token punctuation">.</span>util<span class="token punctuation">.</span></span>Date

<span class="token keyword">object</span> PartFunction <span class="token keyword">extends</span> App <span class="token punctuation">{</span>
    <span class="token comment">//定义打印日志的方法</span>
    <span class="token keyword">def</span> log<span class="token punctuation">(</span>date<span class="token operator">:</span>Date<span class="token punctuation">,</span>message<span class="token operator">:</span><span class="token builtin">String</span><span class="token punctuation">)</span><span class="token operator">=</span><span class="token punctuation">{</span>
      println<span class="token punctuation">(</span><span class="token string-interpolation"><span class="token id function">s</span><span class="token string">&quot;</span><span class="token interpolation"><span class="token punctuation">${</span><span class="token expression">date</span><span class="token punctuation">}</span></span><span class="token string">&quot;</span></span><span class="token punctuation">,</span><span class="token string-interpolation"><span class="token id function">s</span><span class="token string">&quot;</span><span class="token interpolation"><span class="token punctuation">${</span><span class="token expression">message</span><span class="token punctuation">}</span></span><span class="token string">&quot;</span></span><span class="token punctuation">)</span>
    <span class="token punctuation">}</span>

    <span class="token comment">//系统运行时的时间</span>
    <span class="token keyword">val</span> date<span class="token operator">=</span><span class="token keyword">new</span> Date<span class="token punctuation">(</span><span class="token punctuation">)</span>

    <span class="token comment">//对系统日志做部分应用</span>
    <span class="token keyword">val</span> logBoundDate<span class="token operator">:</span><span class="token punctuation">(</span><span class="token builtin">String</span><span class="token punctuation">)</span><span class="token keyword">=&gt;</span><span class="token builtin">Unit</span> <span class="token operator">=</span> log<span class="token punctuation">(</span>date<span class="token punctuation">,</span>_<span class="token operator">:</span><span class="token builtin">String</span><span class="token punctuation">)</span>

    <span class="token comment">//lisi使用系统出现异常信息打印</span>
    logBoundDate<span class="token punctuation">(</span><span class="token string">&quot;Saint做了修改值报错~~~~&quot;</span><span class="token punctuation">)</span>
<span class="token punctuation">}</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br><span class="line-number">16</span><br><span class="line-number">17</span><br><span class="line-number">18</span><br></div></div><h3 id="_3-16-柯里化-currying"><a href="#_3-16-柯里化-currying" class="header-anchor">#</a> 3.16 柯里化(Currying)</h3> <p>柯里化(Currying)指的是将原来接受两个参数的函数变成新的接受一个参数的函数的过程。新的函数返回一个与原有第二个参数为参数的函数。</p> <div class="language-scala line-numbers-mode"><pre class="language-scala"><code><span class="token keyword">package</span> <span class="token namespace">com<span class="token punctuation">.</span>saint<span class="token punctuation">.</span>scala</span>

<span class="token keyword">object</span> CurryingFunction <span class="token keyword">extends</span> App <span class="token punctuation">{</span>

  <span class="token comment">//普通参数函数</span>
  <span class="token comment">//def add(a:Int,b:Int) =a+b</span>

  <span class="token comment">//使用柯里化表示上面的add函数</span>
  <span class="token comment">//那么我们应用的时候，应该是这样用:add(1)(2),最后结果都一样是 3，这种方式(过程)就叫柯里化。经过柯里化之后，函数的通用性有所降低，但是适用性有所提高。</span>
  <span class="token keyword">def</span> add<span class="token punctuation">(</span>a<span class="token operator">:</span><span class="token builtin">Int</span><span class="token punctuation">)</span><span class="token punctuation">(</span>b<span class="token operator">:</span><span class="token builtin">Int</span><span class="token punctuation">)</span> <span class="token operator">=</span> a<span class="token operator">+</span>b

  <span class="token comment">// 分析下其演变过程</span>
  <span class="token comment">// def add(x: Int) = (y: Int) =&gt; x + y</span>
  <span class="token comment">// (y: Int) =&gt; x + y 为一个匿名函数, 也就意味着 add 方法的返回值为一个匿名函 数</span>

  <span class="token comment">//println(add(1,2))</span>
  println<span class="token punctuation">(</span>add<span class="token punctuation">(</span><span class="token number">1</span><span class="token punctuation">)</span><span class="token punctuation">(</span><span class="token number">2</span><span class="token punctuation">)</span><span class="token punctuation">)</span>
<span class="token punctuation">}</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br><span class="line-number">16</span><br><span class="line-number">17</span><br><span class="line-number">18</span><br></div></div><h3 id="_3-17-偏函数"><a href="#_3-17-偏函数" class="header-anchor">#</a> 3.17 偏函数</h3> <p>被包在花括号内没有match的一组case语句是一个偏函数，它是PartialFunction[A, B]的一个实例，A 代表参数类型，B 代表返回类型，常用作输入模式匹配。</p> <div class="language-scala line-numbers-mode"><pre class="language-scala"><code><span class="token keyword">package</span> <span class="token namespace">com<span class="token punctuation">.</span>saint<span class="token punctuation">.</span>scala</span>

<span class="token keyword">object</span> PartialFunctionDemo <span class="token punctuation">{</span>
  <span class="token comment">//定义偏函数，PartialFunction接口的实现</span>
  <span class="token keyword">def</span> func1<span class="token operator">:</span> PartialFunction<span class="token punctuation">[</span><span class="token builtin">String</span><span class="token punctuation">,</span> <span class="token builtin">Int</span><span class="token punctuation">]</span> <span class="token operator">=</span> <span class="token punctuation">{</span>
    <span class="token keyword">case</span> <span class="token string">&quot;one&quot;</span> <span class="token keyword">=&gt;</span> <span class="token number">1</span>
    <span class="token keyword">case</span> <span class="token string">&quot;two&quot;</span> <span class="token keyword">=&gt;</span> <span class="token number">2</span>
    <span class="token keyword">case</span> _ <span class="token keyword">=&gt;</span> <span class="token operator">-</span><span class="token number">1</span>
  <span class="token punctuation">}</span>

  <span class="token keyword">def</span> main<span class="token punctuation">(</span>args<span class="token operator">:</span> Array<span class="token punctuation">[</span><span class="token builtin">String</span><span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token operator">:</span> <span class="token builtin">Unit</span> <span class="token operator">=</span> <span class="token punctuation">{</span>
    println<span class="token punctuation">(</span>func1<span class="token punctuation">(</span><span class="token string">&quot;one&quot;</span><span class="token punctuation">)</span><span class="token punctuation">)</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br></div></div><h3 id="_3-18-数组的定义"><a href="#_3-18-数组的定义" class="header-anchor">#</a> 3.18 数组的定义</h3> <div class="language-scala line-numbers-mode"><pre class="language-scala"><code><span class="token keyword">package</span> <span class="token namespace">com<span class="token punctuation">.</span>saint<span class="token punctuation">.</span>scala</span>

<span class="token keyword">object</span> ArrayDemo <span class="token punctuation">{</span>
  <span class="token keyword">def</span> main<span class="token punctuation">(</span>args<span class="token operator">:</span> Array<span class="token punctuation">[</span><span class="token builtin">String</span><span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token operator">:</span> <span class="token builtin">Unit</span> <span class="token operator">=</span> <span class="token punctuation">{</span>
    <span class="token comment">//定义一个固定长度的数组</span>
    <span class="token comment">//var x:Array[String] = new Array[String](3)</span>

    <span class="token comment">//当数组中的类型没有指定，编译器会根据数组的类型自动推测类型</span>
    <span class="token keyword">var</span> x <span class="token operator">=</span> <span class="token keyword">new</span> Array<span class="token punctuation">[</span><span class="token builtin">String</span><span class="token punctuation">]</span><span class="token punctuation">(</span><span class="token number">3</span><span class="token punctuation">)</span>

    <span class="token comment">//通过初始化默认值创建数组</span>
    <span class="token keyword">val</span> array1<span class="token operator">:</span>Array<span class="token punctuation">[</span><span class="token builtin">String</span><span class="token punctuation">]</span> <span class="token operator">=</span> Array<span class="token punctuation">(</span><span class="token string">&quot;a&quot;</span><span class="token punctuation">,</span><span class="token string">&quot;b&quot;</span><span class="token punctuation">,</span><span class="token string">&quot;c&quot;</span><span class="token punctuation">)</span>

    <span class="token comment">//通过脚标修改数组中的值</span>
    x<span class="token punctuation">(</span><span class="token number">0</span><span class="token punctuation">)</span> <span class="token operator">=</span> <span class="token string">&quot;a&quot;</span>
    x<span class="token punctuation">(</span><span class="token number">1</span><span class="token punctuation">)</span> <span class="token operator">=</span> <span class="token string">&quot;777&quot;</span>
    x<span class="token punctuation">(</span><span class="token number">2</span><span class="token punctuation">)</span> <span class="token operator">=</span> <span class="token string">&quot;z&quot;</span>

    println<span class="token punctuation">(</span>x<span class="token punctuation">.</span>toBuffer<span class="token punctuation">)</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br><span class="line-number">16</span><br><span class="line-number">17</span><br><span class="line-number">18</span><br><span class="line-number">19</span><br><span class="line-number">20</span><br><span class="line-number">21</span><br></div></div><h3 id="_3-19-map-flatten-flatmap-foreach方法的使用"><a href="#_3-19-map-flatten-flatmap-foreach方法的使用" class="header-anchor">#</a> 3.19 map|flatten|flatMap|foreach方法的使用</h3> <p>map:</p> <div class="language-scala line-numbers-mode"><pre class="language-scala"><code><span class="token keyword">var</span> arr <span class="token operator">=</span> Array<span class="token punctuation">(</span><span class="token number">1</span><span class="token punctuation">,</span> <span class="token number">2</span><span class="token punctuation">,</span> <span class="token number">3</span><span class="token punctuation">,</span> <span class="token number">4</span><span class="token punctuation">,</span> <span class="token number">5</span><span class="token punctuation">)</span>

<span class="token comment">//map是遍历数组所有元素,通过函数的处理形成一个新的处理过的数组</span>
<span class="token keyword">val</span> arr2 <span class="token operator">=</span> arr<span class="token punctuation">.</span>map<span class="token punctuation">(</span>x <span class="token keyword">=&gt;</span> x<span class="token operator">*</span><span class="token number">2</span><span class="token punctuation">)</span>

<span class="token comment">//map函数总结: 在map方法中,_表示入参,入参是数组中的每一个元素</span>
<span class="token comment">//val arr2 = arr.map(_*2)</span>

println<span class="token punctuation">(</span>arr2<span class="token punctuation">.</span>toBuffer<span class="token punctuation">)</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br></div></div><p>flatten：</p> <div class="language-scala line-numbers-mode"><pre class="language-scala"><code><span class="token comment">//单词统计</span>
<span class="token keyword">var</span> words <span class="token operator">=</span> Array<span class="token punctuation">(</span><span class="token string">&quot;Hello Spark Hadoop&quot;</span><span class="token punctuation">,</span><span class="token string">&quot;Hadoop Hello Hello&quot;</span><span class="token punctuation">,</span><span class="token string">&quot;Hadoop Spark Hello&quot;</span><span class="token punctuation">)</span>
<span class="token keyword">val</span> splitWords<span class="token operator">:</span>Array<span class="token punctuation">[</span>Array<span class="token punctuation">[</span><span class="token builtin">String</span><span class="token punctuation">]</span><span class="token punctuation">]</span> <span class="token operator">=</span> words<span class="token punctuation">.</span>map<span class="token punctuation">(</span>_<span class="token punctuation">.</span>split<span class="token punctuation">(</span><span class="token string">&quot; &quot;</span><span class="token punctuation">)</span><span class="token punctuation">)</span>

<span class="token keyword">for</span> <span class="token punctuation">(</span>word <span class="token keyword">&lt;-</span> splitWords<span class="token punctuation">)</span><span class="token punctuation">{</span>
    println<span class="token punctuation">(</span>word<span class="token punctuation">.</span>toBuffer<span class="token punctuation">)</span>
<span class="token punctuation">}</span>

<span class="token comment">//flatten: 将集合中的元素进行压平操作，把所有子元素ArrayBuffer展开，拼接成一个大的数组</span>
<span class="token keyword">val</span> flattenWords<span class="token operator">:</span>Array<span class="token punctuation">[</span><span class="token builtin">String</span><span class="token punctuation">]</span> <span class="token operator">=</span> splitWords<span class="token punctuation">.</span>flatten
println<span class="token punctuation">(</span>flattenWords<span class="token punctuation">.</span>toBuffer<span class="token punctuation">)</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br></div></div><p>flatMap：</p> <div class="language-Scala line-numbers-mode"><pre class="language-scala"><code><span class="token comment">//单词统计</span>
<span class="token keyword">var</span> words <span class="token operator">=</span> Array<span class="token punctuation">(</span><span class="token string">&quot;Hello Spark Hadoop&quot;</span><span class="token punctuation">,</span><span class="token string">&quot;Hadoop Hello Hello&quot;</span><span class="token punctuation">,</span><span class="token string">&quot;Hadoop Spark Hello&quot;</span><span class="token punctuation">)</span>

<span class="token comment">//flatMap: 遍历集合的每一个元素,按照某个函数进行运算,并把结果进行压平操作</span>
<span class="token keyword">val</span> flattenWords<span class="token operator">:</span>Array<span class="token punctuation">[</span><span class="token builtin">String</span><span class="token punctuation">]</span> <span class="token operator">=</span> words<span class="token punctuation">.</span>flatMap<span class="token punctuation">(</span>word<span class="token keyword">=&gt;</span>word<span class="token punctuation">.</span>split<span class="token punctuation">(</span><span class="token string">&quot; &quot;</span><span class="token punctuation">)</span><span class="token punctuation">)</span>

println<span class="token punctuation">(</span>flattenWords<span class="token punctuation">.</span>toBuffer<span class="token punctuation">)</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br></div></div><p>foreach:</p> <div class="language-scala line-numbers-mode"><pre class="language-scala"><code><span class="token comment">//foreach: 遍历集合</span>
flattenWords<span class="token punctuation">.</span>foreach<span class="token punctuation">(</span>println<span class="token punctuation">(</span>_<span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token comment">//遍历且对所有元素执行println()</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br></div></div><p>WordCount示例，函数式编程</p> <div class="language-scala line-numbers-mode"><pre class="language-scala"><code><span class="token keyword">package</span> <span class="token namespace">com<span class="token punctuation">.</span>saint<span class="token punctuation">.</span>scala</span>

<span class="token keyword">object</span> WordCount <span class="token punctuation">{</span>
  <span class="token keyword">def</span> main<span class="token punctuation">(</span>args<span class="token operator">:</span> Array<span class="token punctuation">[</span><span class="token builtin">String</span><span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token operator">:</span> <span class="token builtin">Unit</span> <span class="token operator">=</span> <span class="token punctuation">{</span>
    <span class="token comment">//相当于读取文本中的每一行内容放入数组中存储</span>
    <span class="token keyword">var</span> arr <span class="token operator">=</span> Array<span class="token punctuation">(</span><span class="token string">&quot;The mission of the Apache Software Foundation (ASF) is to provide software for the public good.&quot;</span><span class="token punctuation">,</span>
      <span class="token string">&quot;We do this by providing services and support for many software project communities consisting of individuals who choose to participate in ASF activities.&quot;</span><span class="token punctuation">)</span>

    <span class="token comment">//切割单词</span>
    <span class="token keyword">val</span> words <span class="token operator">=</span> arr<span class="token punctuation">.</span>flatMap<span class="token punctuation">(</span>_<span class="token punctuation">.</span>split<span class="token punctuation">(</span><span class="token string">&quot; &quot;</span><span class="token punctuation">)</span><span class="token punctuation">)</span>
    <span class="token comment">//记录单词的出现次数</span>
    <span class="token keyword">val</span> tupleWords <span class="token operator">=</span> words<span class="token punctuation">.</span>map<span class="token punctuation">(</span><span class="token punctuation">(</span>_<span class="token punctuation">,</span> <span class="token number">1</span><span class="token punctuation">)</span><span class="token punctuation">)</span>
    <span class="token comment">//把相同的单词聚合在一起</span>
    <span class="token keyword">var</span> groupWords <span class="token operator">=</span> tupleWords<span class="token punctuation">.</span>groupBy<span class="token punctuation">(</span>_<span class="token punctuation">.</span>_1<span class="token punctuation">)</span>
    <span class="token comment">//计算每个单词出现的次数</span>
    <span class="token keyword">var</span> countWords <span class="token operator">=</span> groupWords<span class="token punctuation">.</span>mapValues<span class="token punctuation">(</span>_<span class="token punctuation">.</span>length<span class="token punctuation">)</span>
    <span class="token comment">//转换成list集合</span>
    <span class="token keyword">val</span> countList <span class="token operator">=</span> countWords<span class="token punctuation">.</span>toList
    <span class="token comment">//排序</span>
    <span class="token keyword">val</span> sortWords <span class="token operator">=</span> countList<span class="token punctuation">.</span>sortBy<span class="token punctuation">(</span><span class="token operator">-</span>_<span class="token punctuation">.</span>_2<span class="token punctuation">)</span>
    <span class="token comment">//输出结果集合</span>
    println<span class="token punctuation">(</span>sortWords<span class="token punctuation">.</span>toBuffer<span class="token punctuation">)</span>

    <span class="token comment">//直接进行流式计算，同样结果，优雅编写</span>
    <span class="token keyword">var</span> ans <span class="token operator">=</span> arr
      <span class="token punctuation">.</span>flatMap<span class="token punctuation">(</span>_<span class="token punctuation">.</span>split<span class="token punctuation">(</span><span class="token string">&quot; &quot;</span><span class="token punctuation">)</span><span class="token punctuation">)</span>
      <span class="token punctuation">.</span>map<span class="token punctuation">(</span><span class="token punctuation">(</span>_<span class="token punctuation">,</span> <span class="token number">1</span><span class="token punctuation">)</span><span class="token punctuation">)</span>
      <span class="token punctuation">.</span>groupBy<span class="token punctuation">(</span>_<span class="token punctuation">.</span>_1<span class="token punctuation">)</span>
      <span class="token punctuation">.</span>mapValues<span class="token punctuation">(</span>_<span class="token punctuation">.</span>length<span class="token punctuation">)</span>
      <span class="token punctuation">.</span>toList<span class="token punctuation">.</span>sortBy<span class="token punctuation">(</span>_<span class="token punctuation">.</span>_2<span class="token punctuation">)</span>
      <span class="token punctuation">.</span>reverse
    println<span class="token punctuation">(</span>ans<span class="token punctuation">.</span>toBuffer<span class="token punctuation">)</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br><span class="line-number">16</span><br><span class="line-number">17</span><br><span class="line-number">18</span><br><span class="line-number">19</span><br><span class="line-number">20</span><br><span class="line-number">21</span><br><span class="line-number">22</span><br><span class="line-number">23</span><br><span class="line-number">24</span><br><span class="line-number">25</span><br><span class="line-number">26</span><br><span class="line-number">27</span><br><span class="line-number">28</span><br><span class="line-number">29</span><br><span class="line-number">30</span><br><span class="line-number">31</span><br><span class="line-number">32</span><br><span class="line-number">33</span><br><span class="line-number">34</span><br></div></div><h2 id="_4-集合的使用"><a href="#_4-集合的使用" class="header-anchor">#</a> 4.集合的使用</h2> <p>Scala 的集合有三大类:序列 Seq、集 Set、映射 Map，所有的集合都扩展自 Iterable 特质 在 Scala 中集合有可变(mutable)和不可变(immutable)两种类型，immutable 类型的集合 初始化后就不能改变了(注意与 val 修饰的变量进行区别)</p> <p><img src="/assets/img/集合继承图.800944f7.png" alt="image-20230713130115062"></p> <h3 id="_4-1-定长数组和变长数组"><a href="#_4-1-定长数组和变长数组" class="header-anchor">#</a> 4.1 定长数组和变长数组</h3> <p>可变的数组 <strong>import</strong> scala.collection.mutable</p> <div class="language-scala line-numbers-mode"><pre class="language-scala"><code><span class="token keyword">package</span> <span class="token namespace">com<span class="token punctuation">.</span>saint<span class="token punctuation">.</span>scala</span>
<span class="token keyword">import</span> <span class="token namespace">scala<span class="token punctuation">.</span>collection<span class="token punctuation">.</span>mutable<span class="token punctuation">.</span></span>ArrayBuffer

<span class="token keyword">object</span> MutableArray<span class="token punctuation">{</span>
  <span class="token keyword">def</span> main<span class="token punctuation">(</span>args<span class="token operator">:</span> Array<span class="token punctuation">[</span><span class="token builtin">String</span><span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token operator">:</span> <span class="token builtin">Unit</span> <span class="token operator">=</span> <span class="token punctuation">{</span>
    <span class="token comment">//定义一个定长数组</span>
    <span class="token keyword">val</span> array<span class="token operator">:</span>Array<span class="token punctuation">[</span><span class="token builtin">Int</span><span class="token punctuation">]</span> <span class="token operator">=</span> <span class="token keyword">new</span> Array<span class="token punctuation">[</span><span class="token builtin">Int</span><span class="token punctuation">]</span><span class="token punctuation">(</span><span class="token number">8</span><span class="token punctuation">)</span>
    <span class="token comment">//打印集合内存地址</span>
    println<span class="token punctuation">(</span>array<span class="token punctuation">)</span>
    <span class="token comment">//打印集合元素</span>
    array<span class="token punctuation">.</span>foreach<span class="token punctuation">(</span>println<span class="token punctuation">(</span>_<span class="token punctuation">)</span><span class="token punctuation">)</span>
    
    println<span class="token punctuation">(</span><span class="token string">&quot;-------------------&quot;</span><span class="token punctuation">)</span>
    
    <span class="token comment">//定义一个可变的数组</span>
    <span class="token keyword">val</span> arr <span class="token operator">=</span> <span class="token keyword">new</span> ArrayBuffer<span class="token punctuation">[</span><span class="token builtin">Int</span><span class="token punctuation">]</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
    <span class="token comment">//向集合中追加元素</span>
    arr <span class="token operator">+=</span> <span class="token number">1</span>
    arr <span class="token operator">+=</span> <span class="token punctuation">(</span><span class="token number">2</span><span class="token punctuation">,</span><span class="token number">3</span><span class="token punctuation">,</span><span class="token number">4</span><span class="token punctuation">,</span><span class="token number">5</span><span class="token punctuation">)</span>
    <span class="token comment">//把另外的集合追加到集合中</span>
    arr<span class="token operator">++</span><span class="token operator">=</span>Array<span class="token punctuation">(</span><span class="token number">6</span><span class="token punctuation">,</span><span class="token number">7</span><span class="token punctuation">)</span>
    <span class="token comment">//在集合中插入元素,第一位是下标，第二位是</span>
    arr<span class="token punctuation">.</span>insert<span class="token punctuation">(</span><span class="token number">0</span><span class="token punctuation">,</span><span class="token number">0</span><span class="token punctuation">)</span>
    <span class="token comment">//打印集合元素</span>
    println<span class="token punctuation">(</span>arr<span class="token punctuation">.</span>toBuffer<span class="token punctuation">)</span>
    <span class="token comment">//删除集合中的元素</span>
    arr<span class="token punctuation">.</span>remove<span class="token punctuation">(</span><span class="token number">7</span><span class="token punctuation">)</span>
    println<span class="token punctuation">(</span>arr<span class="token punctuation">.</span>toBuffer<span class="token punctuation">)</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br><span class="line-number">16</span><br><span class="line-number">17</span><br><span class="line-number">18</span><br><span class="line-number">19</span><br><span class="line-number">20</span><br><span class="line-number">21</span><br><span class="line-number">22</span><br><span class="line-number">23</span><br><span class="line-number">24</span><br><span class="line-number">25</span><br><span class="line-number">26</span><br><span class="line-number">27</span><br><span class="line-number">28</span><br><span class="line-number">29</span><br><span class="line-number">30</span><br></div></div><p>作业1:定义一个可变的字符串数组,初始值为a,b两个元素,向数组中追加一个字符串数组里边有d,f两个元素,向数组b的位置插入一个h元素.打印数组中的元素.</p> <div class="language-scala line-numbers-mode"><pre class="language-scala"><code><span class="token keyword">import</span> <span class="token namespace">scala<span class="token punctuation">.</span>collection<span class="token punctuation">.</span>mutable<span class="token punctuation">.</span></span>ArrayBuffer

<span class="token comment">// 定义可变字符串数组</span>
<span class="token keyword">val</span> arr<span class="token operator">:</span> ArrayBuffer<span class="token punctuation">[</span><span class="token builtin">String</span><span class="token punctuation">]</span> <span class="token operator">=</span> ArrayBuffer<span class="token punctuation">(</span><span class="token string">&quot;a&quot;</span><span class="token punctuation">,</span> <span class="token string">&quot;b&quot;</span><span class="token punctuation">)</span>
<span class="token comment">// 追加一个字符串数组</span>
arr <span class="token operator">++</span><span class="token operator">=</span> Array<span class="token punctuation">(</span><span class="token string">&quot;d&quot;</span><span class="token punctuation">,</span> <span class="token string">&quot;f&quot;</span><span class="token punctuation">)</span>
<span class="token comment">// 在数组的指定位置插入元素</span>
arr<span class="token punctuation">.</span>insert<span class="token punctuation">(</span><span class="token number">1</span><span class="token punctuation">,</span> <span class="token string">&quot;h&quot;</span><span class="token punctuation">)</span>
<span class="token comment">// 打印数组中的元素</span>
arr<span class="token punctuation">.</span>foreach<span class="token punctuation">(</span>println<span class="token punctuation">)</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br></div></div><h3 id="_4-2-seq序列"><a href="#_4-2-seq序列" class="header-anchor">#</a> 4.2 seq序列</h3> <p>不可变的序列 import scala.collection.immutable._</p> <p>在 Scala 中列表要么为空(Nil 表示空列表)要么是一个 head 元素加上一个 tail 列表。 9 :: List(5, 2) :: 操作符是将给定的头和尾创建一个新的列表</p> <div class="language-scala line-numbers-mode"><pre class="language-scala"><code><span class="token keyword">package</span> <span class="token namespace">com<span class="token punctuation">.</span>saint<span class="token punctuation">.</span>scala</span>

<span class="token keyword">object</span> ImmutableList <span class="token punctuation">{</span>
  <span class="token keyword">def</span> main<span class="token punctuation">(</span>args<span class="token operator">:</span> Array<span class="token punctuation">[</span><span class="token builtin">String</span><span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token operator">:</span> <span class="token builtin">Unit</span> <span class="token operator">=</span> <span class="token punctuation">{</span>
    <span class="token keyword">val</span> list <span class="token operator">=</span> List<span class="token punctuation">(</span><span class="token number">1</span><span class="token punctuation">,</span><span class="token number">2</span><span class="token punctuation">,</span><span class="token number">3</span><span class="token punctuation">)</span>
    println<span class="token punctuation">(</span><span class="token string">&quot;list=&quot;</span><span class="token operator">+</span>list<span class="token punctuation">)</span>

    <span class="token comment">//将0插入到list1中的前面,形成一个新的序列</span>
    println<span class="token punctuation">(</span><span class="token number">0</span><span class="token operator">::</span>list<span class="token punctuation">)</span>
    println<span class="token punctuation">(</span>list<span class="token punctuation">.</span><span class="token punctuation">:</span><span class="token operator">:</span><span class="token punctuation">(</span><span class="token number">0</span><span class="token punctuation">)</span><span class="token punctuation">)</span>
    println<span class="token punctuation">(</span><span class="token number">0</span><span class="token operator">+</span><span class="token operator">:</span>list<span class="token punctuation">)</span>
    println<span class="token punctuation">(</span>list<span class="token punctuation">.</span>+<span class="token operator">:</span><span class="token punctuation">(</span><span class="token number">0</span><span class="token punctuation">)</span><span class="token punctuation">)</span>
    <span class="token comment">//同理，将0插入到list1中的后面,形成一个新的序列</span>
    println<span class="token punctuation">(</span>list<span class="token operator">:</span><span class="token operator">+</span><span class="token number">0</span><span class="token punctuation">)</span>

    <span class="token comment">//合并两个集合的内容,形成一个新的序列</span>
    println<span class="token punctuation">(</span>list<span class="token operator">++</span>List<span class="token punctuation">(</span><span class="token number">4</span><span class="token punctuation">,</span><span class="token number">5</span><span class="token punctuation">,</span><span class="token number">6</span><span class="token punctuation">)</span><span class="token punctuation">)</span>
    <span class="token comment">//将集合list1的内容放在List(4,5,6)的后面</span>
    println<span class="token punctuation">(</span>List<span class="token punctuation">(</span><span class="token number">4</span><span class="token punctuation">,</span><span class="token number">5</span><span class="token punctuation">,</span><span class="token number">6</span><span class="token punctuation">)</span><span class="token operator">++</span>list<span class="token punctuation">)</span>
    println<span class="token punctuation">(</span>List<span class="token punctuation">(</span><span class="token number">4</span><span class="token punctuation">,</span><span class="token number">5</span><span class="token punctuation">,</span><span class="token number">6</span><span class="token punctuation">)</span><span class="token operator">++</span><span class="token operator">:</span>list<span class="token punctuation">)</span>
    <span class="token comment">//前面</span>
    println<span class="token punctuation">(</span>List<span class="token punctuation">(</span><span class="token number">4</span><span class="token punctuation">,</span><span class="token number">5</span><span class="token punctuation">,</span><span class="token number">6</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token punctuation">:</span><span class="token operator">::</span><span class="token punctuation">(</span>list<span class="token punctuation">)</span><span class="token punctuation">)</span>

    <span class="token comment">//结合操作符 &quot;::&quot;, 将多个元素放入一个Nil空集合中,观察放入元素的过程</span>
    println<span class="token punctuation">(</span><span class="token number">9</span><span class="token operator">::</span><span class="token number">8</span><span class="token operator">::</span><span class="token number">7</span><span class="token operator">::</span>Nil<span class="token punctuation">)</span>
    println<span class="token punctuation">(</span><span class="token number">9</span><span class="token operator">::</span><span class="token punctuation">(</span><span class="token number">8</span><span class="token operator">::</span><span class="token punctuation">(</span><span class="token number">7</span><span class="token operator">::</span>Nil<span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">)</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br><span class="line-number">16</span><br><span class="line-number">17</span><br><span class="line-number">18</span><br><span class="line-number">19</span><br><span class="line-number">20</span><br><span class="line-number">21</span><br><span class="line-number">22</span><br><span class="line-number">23</span><br><span class="line-number">24</span><br><span class="line-number">25</span><br><span class="line-number">26</span><br><span class="line-number">27</span><br><span class="line-number">28</span><br></div></div><p>可变的序列 import scala.collection.mutable._</p> <div class="language-scala line-numbers-mode"><pre class="language-scala"><code><span class="token keyword">package</span> <span class="token namespace">com<span class="token punctuation">.</span>saint<span class="token punctuation">.</span>scala</span>
<span class="token keyword">import</span> <span class="token namespace">scala<span class="token punctuation">.</span>collection<span class="token punctuation">.</span>mutable<span class="token punctuation">.</span></span>ListBuffer

<span class="token keyword">object</span> MutableList <span class="token punctuation">{</span>
  <span class="token keyword">def</span> main<span class="token punctuation">(</span>args<span class="token operator">:</span> Array<span class="token punctuation">[</span><span class="token builtin">String</span><span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token operator">:</span> <span class="token builtin">Unit</span> <span class="token operator">=</span> <span class="token punctuation">{</span>
    <span class="token comment">//初始化一个空的可变列表</span>
    <span class="token keyword">val</span> listBuffer <span class="token operator">=</span> <span class="token keyword">new</span> ListBuffer<span class="token punctuation">[</span><span class="token builtin">Int</span><span class="token punctuation">]</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
    <span class="token comment">//初如化有三个元素的可变列表</span>
    <span class="token keyword">val</span> list1 <span class="token operator">=</span> ListBuffer<span class="token punctuation">[</span><span class="token builtin">Int</span><span class="token punctuation">]</span><span class="token punctuation">(</span><span class="token number">1</span><span class="token punctuation">,</span><span class="token number">2</span><span class="token punctuation">,</span><span class="token number">3</span><span class="token punctuation">)</span>
    <span class="token comment">//将元素4追加到可变集合，没有生成新的集合</span>
    list1<span class="token operator">+=</span><span class="token number">4</span>
    <span class="token comment">//list1.append(4)</span>
    <span class="token keyword">val</span> list2 <span class="token operator">=</span> ListBuffer<span class="token punctuation">[</span><span class="token builtin">Int</span><span class="token punctuation">]</span><span class="token punctuation">(</span><span class="token number">5</span><span class="token punctuation">,</span><span class="token number">6</span><span class="token punctuation">)</span>
    <span class="token comment">//合并列表，有生成新的集合</span>
    <span class="token keyword">val</span> list3 <span class="token operator">=</span> list1<span class="token operator">++</span>list2
    <span class="token comment">//追加元素到集合后面，有生成新的集合</span>
    <span class="token keyword">val</span> list4 <span class="token operator">=</span> list3<span class="token operator">:</span><span class="token operator">+</span><span class="token number">7</span>
    println<span class="token punctuation">(</span><span class="token string">&quot;list4=&quot;</span><span class="token operator">+</span>list4<span class="token punctuation">)</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br><span class="line-number">16</span><br><span class="line-number">17</span><br><span class="line-number">18</span><br><span class="line-number">19</span><br><span class="line-number">20</span><br></div></div><h3 id="_4-3-set集合"><a href="#_4-3-set集合" class="header-anchor">#</a> 4.3 set集合</h3> <p>不可变的 Set</p> <div class="language-scala line-numbers-mode"><pre class="language-scala"><code><span class="token keyword">package</span> <span class="token namespace">com<span class="token punctuation">.</span>saint<span class="token punctuation">.</span>scala</span>

<span class="token keyword">import</span> <span class="token namespace">scala<span class="token punctuation">.</span>collection<span class="token punctuation">.</span>immutable<span class="token punctuation">.</span></span>HashSet

<span class="token keyword">object</span> ImmutableHashSet <span class="token punctuation">{</span>
  <span class="token keyword">def</span> main<span class="token punctuation">(</span>args<span class="token operator">:</span> Array<span class="token punctuation">[</span><span class="token builtin">String</span><span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token operator">:</span> <span class="token builtin">Unit</span> <span class="token operator">=</span> <span class="token punctuation">{</span>
    <span class="token keyword">val</span> set1 <span class="token operator">=</span> <span class="token keyword">new</span> HashSet<span class="token punctuation">[</span><span class="token builtin">Int</span><span class="token punctuation">]</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
    <span class="token comment">//将4与set1集合形成一个新的集合</span>
    <span class="token keyword">val</span> set2 <span class="token operator">=</span> set1<span class="token operator">+</span><span class="token number">4</span>
    <span class="token keyword">val</span> set3 <span class="token operator">=</span> set2<span class="token operator">+</span><span class="token number">3</span>
    <span class="token keyword">val</span> set4 <span class="token operator">=</span> set3<span class="token operator">+</span><span class="token number">3</span>
    <span class="token comment">//set集合中没有重复元素,是无序的</span>
    println<span class="token punctuation">(</span>set4<span class="token punctuation">)</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br></div></div><p>可变的 Set</p> <div class="language-scala line-numbers-mode"><pre class="language-scala"><code><span class="token keyword">package</span> <span class="token namespace">com<span class="token punctuation">.</span>saint<span class="token punctuation">.</span>scala</span>

<span class="token keyword">import</span> <span class="token namespace">scala<span class="token punctuation">.</span>collection<span class="token punctuation">.</span>mutable<span class="token punctuation">.</span></span>HashSet

<span class="token keyword">object</span> MutableHashSet <span class="token punctuation">{</span>
  <span class="token keyword">def</span> main<span class="token punctuation">(</span>args<span class="token operator">:</span> Array<span class="token punctuation">[</span><span class="token builtin">String</span><span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token operator">:</span> <span class="token builtin">Unit</span> <span class="token operator">=</span> <span class="token punctuation">{</span>
    <span class="token keyword">val</span> set1 <span class="token operator">=</span> <span class="token keyword">new</span> HashSet<span class="token punctuation">[</span><span class="token builtin">Int</span><span class="token punctuation">]</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
    <span class="token comment">//向可变集合中添加元素</span>
    set1<span class="token operator">+=</span><span class="token number">4</span>
    set1<span class="token punctuation">.</span>add<span class="token punctuation">(</span><span class="token number">5</span><span class="token punctuation">)</span>
    <span class="token comment">//向可变集合中加一个集合</span>
    set1<span class="token operator">++</span><span class="token operator">=</span>Set<span class="token punctuation">(</span><span class="token number">9</span><span class="token punctuation">,</span><span class="token number">10</span><span class="token punctuation">,</span><span class="token number">11</span><span class="token punctuation">)</span>
    <span class="token comment">//删除元素</span>
    set1<span class="token punctuation">.</span>-<span class="token operator">=</span><span class="token punctuation">(</span><span class="token number">4</span><span class="token punctuation">)</span>
    set1<span class="token punctuation">.</span>remove<span class="token punctuation">(</span><span class="token number">10</span><span class="token punctuation">)</span>
    println<span class="token punctuation">(</span>set1<span class="token punctuation">)</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br><span class="line-number">16</span><br><span class="line-number">17</span><br><span class="line-number">18</span><br></div></div><h3 id="_4-4-map映射"><a href="#_4-4-map映射" class="header-anchor">#</a> 4.4 map映射</h3> <div class="language-scala line-numbers-mode"><pre class="language-scala"><code><span class="token keyword">package</span> <span class="token namespace">com<span class="token punctuation">.</span>saint<span class="token punctuation">.</span>scala</span>

<span class="token keyword">import</span> <span class="token namespace">scala<span class="token punctuation">.</span>collection<span class="token punctuation">.</span>mutable<span class="token punctuation">.</span></span>HashMap
<span class="token keyword">object</span> MapDemo <span class="token punctuation">{</span>
  <span class="token keyword">def</span> main<span class="token punctuation">(</span>args<span class="token operator">:</span> Array<span class="token punctuation">[</span><span class="token builtin">String</span><span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token operator">:</span> <span class="token builtin">Unit</span> <span class="token operator">=</span> <span class="token punctuation">{</span>
    <span class="token keyword">var</span> map <span class="token operator">=</span> <span class="token keyword">new</span> HashMap<span class="token punctuation">[</span><span class="token builtin">String</span><span class="token punctuation">,</span> <span class="token builtin">Int</span><span class="token punctuation">]</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
      
    <span class="token comment">//操作Map集合</span>
    <span class="token comment">//添加</span>
    map<span class="token punctuation">.</span>+<span class="token operator">=</span><span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token string">&quot;hadoop&quot;</span><span class="token punctuation">,</span><span class="token number">1000</span><span class="token punctuation">)</span><span class="token punctuation">)</span>
    map<span class="token punctuation">(</span><span class="token string">&quot;scala&quot;</span><span class="token punctuation">)</span><span class="token operator">=</span><span class="token number">1100</span>
    map<span class="token punctuation">.</span>put<span class="token punctuation">(</span><span class="token string">&quot;flume&quot;</span><span class="token punctuation">,</span><span class="token number">0</span><span class="token punctuation">)</span>

    <span class="token comment">//修改</span>
    map<span class="token punctuation">.</span>put<span class="token punctuation">(</span><span class="token string">&quot;flume&quot;</span><span class="token punctuation">,</span><span class="token number">1200</span><span class="token punctuation">)</span>

    <span class="token comment">//删除</span>
    map<span class="token punctuation">.</span>remove<span class="token punctuation">(</span><span class="token string">&quot;scala&quot;</span><span class="token punctuation">)</span>
    println<span class="token punctuation">(</span>map<span class="token punctuation">)</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br><span class="line-number">16</span><br><span class="line-number">17</span><br><span class="line-number">18</span><br><span class="line-number">19</span><br><span class="line-number">20</span><br><span class="line-number">21</span><br></div></div><h3 id="_4-5-元组"><a href="#_4-5-元组" class="header-anchor">#</a> 4.5 元组</h3> <p>Scala 元组将固定数量的项目组合在一起，以便它们可以作为一个整体传递。 与数组或列表不同，元组可以容纳不同类型的对象，但它们也是不可变的。</p> <div class="language-scala line-numbers-mode"><pre class="language-scala"><code><span class="token keyword">package</span> <span class="token namespace">com<span class="token punctuation">.</span>saint<span class="token punctuation">.</span>scala</span>

<span class="token keyword">object</span> TupleDemo <span class="token punctuation">{</span>
  <span class="token keyword">def</span> main<span class="token punctuation">(</span>args<span class="token operator">:</span> Array<span class="token punctuation">[</span><span class="token builtin">String</span><span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token operator">:</span> <span class="token builtin">Unit</span> <span class="token operator">=</span> <span class="token punctuation">{</span>
    <span class="token comment">//通过值直接创建元组</span>
    <span class="token keyword">var</span> t1 <span class="token operator">=</span> <span class="token punctuation">(</span><span class="token number">1</span><span class="token punctuation">,</span><span class="token string">&quot;saint&quot;</span><span class="token punctuation">,</span><span class="token boolean">true</span><span class="token punctuation">)</span>

    <span class="token comment">//通过类创建元组 通过TupleN创建</span>
    <span class="token keyword">var</span> t2 <span class="token operator">=</span> <span class="token keyword">new</span> Tuple3<span class="token punctuation">[</span><span class="token builtin">Int</span><span class="token punctuation">,</span><span class="token builtin">String</span><span class="token punctuation">,</span><span class="token builtin">Boolean</span><span class="token punctuation">]</span><span class="token punctuation">(</span><span class="token number">777</span><span class="token punctuation">,</span><span class="token string">&quot;alice&quot;</span><span class="token punctuation">,</span><span class="token boolean">false</span><span class="token punctuation">)</span>
    <span class="token keyword">var</span> t3 <span class="token operator">=</span> <span class="token keyword">new</span> Tuple2<span class="token punctuation">[</span><span class="token builtin">Int</span><span class="token punctuation">,</span><span class="token builtin">String</span><span class="token punctuation">]</span><span class="token punctuation">(</span><span class="token number">2</span><span class="token punctuation">,</span><span class="token string">&quot;list&quot;</span><span class="token punctuation">)</span>

    println<span class="token punctuation">(</span>t2<span class="token punctuation">.</span>_1<span class="token punctuation">)</span>
    println<span class="token punctuation">(</span>t2<span class="token punctuation">.</span>_2<span class="token punctuation">)</span>
    println<span class="token punctuation">(</span>t2<span class="token punctuation">.</span>_3<span class="token punctuation">)</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br><span class="line-number">16</span><br></div></div><p>元组是类型 Tuple1，Tuple2，Tuple3 等等。目前在 Scala 中只能有 22 个上限，如果您需要更多个元素，那么可以使用集合而不是元组。</p> <h3 id="_4-6-集合常用方法"><a href="#_4-6-集合常用方法" class="header-anchor">#</a> 4.6 集合常用方法</h3> <p>map, flatten, flatMap, filter, sorted, sortBy, sortWith, grouped, fold(折叠), foldLeft, foldRight, reduce, reduceLeft, aggregate, union, intersect(交集), diff(差集), head, tail, zip, mkString, foreach, length, slice, sum</p> <p>map: 对集合中的每个元素进行某种映射操作.</p> <p>flatten: 扁平化操作</p> <p>flatMap: 对集合中的每个元素进行某种映射操作并进行压平.</p> <p>filter: 过滤出符合条件的元素集合</p> <p>sorted : 集合按照升序方式排序</p> <p>sortBy: 集合按照某种方式或方法排序</p> <p>sortWith: 将集合按照某种规则排序 传入参数(函数)返回值类型是布尔类型</p> <p>grouped: 将集合按照个数进行分组</p> <p>fold : 折叠操作</p> <p>foldLeft:从左到右折叠: (x,y) x代表左边,y代表右边 ,那么从左到右折叠意思就是x作为主要的与y进行操作</p> <p>foldRight:从右到左折叠: (x,y) x代表左边,y代表右边 ,那么从右到左折叠意思就是y作为主要的与x进行操作</p> <p>reduce: 聚合操作</p> <p>reduceLeft:左聚合</p> <p>reduceRight: 右聚合</p> <p>aggregate:对集合进行某种聚合操作</p> <p>union: 连合多个集合</p> <p>intersect: 求出两个集合的交集</p> <p>diff: 求出两个集合的差集</p> <p>head: 求出集合中的头元素</p> <p>tail:返回列表中的尾部元素</p> <p>zip: 拉链操作</p> <p>mkString: 对集合进行格式化输出</p> <p>foreach: 遍历集合中的每个元素</p> <p>length:求出集合的长度</p> <p>slice(start,end):截取集合中的元素</p> <p>sum:对集合进行求和操作</p> <h3 id="_4-7-并行化集合par"><a href="#_4-7-并行化集合par" class="header-anchor">#</a> 4.7 并行化集合par</h3> <p>调用集合的 par 方法, 会将集合转换成并行化集合.</p> <h3 id="_4-8-map和option"><a href="#_4-8-map和option" class="header-anchor">#</a> 4.8 Map和Option</h3> <p>在 Scala 中 Option 类型样例类用来表示可能存在或也可能不存在的值(Option 的子类有 Some和 None)。Some 包装了某个值，None 表示没有值。</p> <div class="language-scala line-numbers-mode"><pre class="language-scala"><code><span class="token keyword">package</span> <span class="token namespace">com<span class="token punctuation">.</span>saint<span class="token punctuation">.</span>scala</span>
<span class="token keyword">import</span> <span class="token namespace">scala<span class="token punctuation">.</span>collection<span class="token punctuation">.</span>mutable<span class="token punctuation">.</span></span>HashMap

<span class="token keyword">object</span> mapOptionDemo <span class="token punctuation">{</span>
  <span class="token keyword">def</span> main<span class="token punctuation">(</span>args<span class="token operator">:</span> Array<span class="token punctuation">[</span><span class="token builtin">String</span><span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token operator">:</span> <span class="token builtin">Unit</span> <span class="token operator">=</span> <span class="token punctuation">{</span>
    <span class="token comment">//创建一个map集合</span>
    <span class="token keyword">var</span> map <span class="token operator">=</span> <span class="token keyword">new</span> HashMap<span class="token punctuation">[</span><span class="token builtin">String</span><span class="token punctuation">,</span><span class="token builtin">Int</span><span class="token punctuation">]</span><span class="token punctuation">(</span><span class="token punctuation">)</span>

    <span class="token comment">//添加元素到集合中</span>
    map<span class="token punctuation">.</span>put<span class="token punctuation">(</span><span class="token string">&quot;hadoop&quot;</span><span class="token punctuation">,</span><span class="token number">1000</span><span class="token punctuation">)</span>
    map<span class="token punctuation">.</span>put<span class="token punctuation">(</span><span class="token string">&quot;scala&quot;</span><span class="token punctuation">,</span><span class="token number">900</span><span class="token punctuation">)</span>


    <span class="token comment">//获取map集合的某个键的值</span>
    <span class="token comment">// 通过调用get方法返回的是Option的子类Same或None</span>
    <span class="token keyword">var</span> option <span class="token operator">=</span> map<span class="token punctuation">.</span>get<span class="token punctuation">(</span><span class="token string">&quot;hadoop&quot;</span><span class="token punctuation">)</span>


    <span class="token comment">//调用getOrElse,里面会对Option的子类Same或None做了模式匹配,</span>
    <span class="token comment">//返回值为具体的值,为了避免值为空的时候报错</span>
    <span class="token keyword">var</span> value <span class="token operator">=</span> map<span class="token punctuation">.</span>getOrElse<span class="token punctuation">(</span><span class="token string">&quot;hadoop&quot;</span><span class="token punctuation">,</span><span class="token number">100000</span><span class="token punctuation">)</span>

    println<span class="token punctuation">(</span>option<span class="token punctuation">)</span>
    println<span class="token punctuation">(</span>value<span class="token punctuation">)</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br><span class="line-number">16</span><br><span class="line-number">17</span><br><span class="line-number">18</span><br><span class="line-number">19</span><br><span class="line-number">20</span><br><span class="line-number">21</span><br><span class="line-number">22</span><br><span class="line-number">23</span><br><span class="line-number">24</span><br><span class="line-number">25</span><br><span class="line-number">26</span><br></div></div><h2 id="_5-面向对象"><a href="#_5-面向对象" class="header-anchor">#</a> 5.面向对象</h2> <h3 id="_5-1-scala单例对象"><a href="#_5-1-scala单例对象" class="header-anchor">#</a> 5.1 Scala单例对象</h3> <p>所有定义的scala的object对象都是单例对象, 没办法new, object中定义的成员变量和方法都是静态的,可以通过对象类名.成员变量 或者 通过对象类名.方法</p> <div class="language-scala line-numbers-mode"><pre class="language-scala"><code><span class="token comment">/**
  * 在scala中的object对象是一个单例对象,没办法new
  * object中定义的成员变量和方法都是静态的
  * 可以通过对象类名.成员变量 或者 通过对象类名.方法
  */</span>
<span class="token keyword">object</span> ScalaStatic <span class="token punctuation">{</span>

  <span class="token keyword">val</span> name<span class="token operator">:</span><span class="token builtin">String</span> <span class="token operator">=</span><span class="token string">&quot;Saint&quot;</span>

  <span class="token keyword">def</span> sayHello<span class="token punctuation">(</span>msg<span class="token operator">:</span><span class="token builtin">String</span><span class="token punctuation">)</span><span class="token operator">:</span> <span class="token builtin">Unit</span> <span class="token operator">=</span><span class="token punctuation">{</span>
    println<span class="token punctuation">(</span>msg<span class="token punctuation">)</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br></div></div><div class="language-scala line-numbers-mode"><pre class="language-scala"><code><span class="token keyword">object</span> ScalaStaticTest <span class="token punctuation">{</span>
  <span class="token keyword">def</span> main<span class="token punctuation">(</span>args<span class="token operator">:</span> Array<span class="token punctuation">[</span><span class="token builtin">String</span><span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token operator">:</span> <span class="token builtin">Unit</span> <span class="token operator">=</span> <span class="token punctuation">{</span>
    <span class="token comment">//通过：类名.变量，获取变量的值</span>
    println<span class="token punctuation">(</span>ScalaStatic<span class="token punctuation">.</span>name<span class="token punctuation">)</span>
	<span class="token comment">//通过：类名.方法，调用该方法</span>
    ScalaStatic<span class="token punctuation">.</span>sayHello<span class="token punctuation">(</span><span class="token string">&quot;你好&quot;</span><span class="token punctuation">)</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br></div></div><h3 id="_5-2-scala类"><a href="#_5-2-scala类" class="header-anchor">#</a> 5.2 Scala类</h3> <h4 id="_5-2-1-类定义-访问器与修改器-构造器-访问权限"><a href="#_5-2-1-类定义-访问器与修改器-构造器-访问权限" class="header-anchor">#</a> 5.2.1 类定义|访问器与修改器|构造器|访问权限</h4> <p>1)类定义</p> <ol><li>在scala中定义类使用class关键词修饰</li> <li>定义类默认有一个空参的构造器</li></ol> <p>2)var与val，set()与get()</p> <ol><li>如果var修改的变量,是可以修改的,相当于类中提供了set和get方法</li> <li>如果val修改的变量,是不可以修改的,相当于类中提供了get方法,并没有提供set方法</li></ol> <p>3)构造器</p> <ol><li>主构造器:定义在类上的构造方法,称为主构造器,如:Teacher(var name:String,age:Int)</li> <li>辅助构造器: 定义在类中的的构造方法,称为辅助构造器,如:def this(name:String,age:Int,sex:String)，辅助构造器可以定义多个</li></ol> <p>4）访问权限</p> <ol><li>使用private[defaultClass]的类路径,路径下可以访问该类,路径之外(包的上层)不能访问到该类</li> <li>private[this] this代表com.saint.scala.defaultClass</li> <li>使用private关键词修改的方法,是私有方法,外面不可以访问</li></ol> <div class="language-scala line-numbers-mode"><pre class="language-scala"><code><span class="token keyword">package</span> <span class="token namespace">com<span class="token punctuation">.</span>saint<span class="token punctuation">.</span>scala<span class="token punctuation">.</span>defaultClass</span>

<span class="token keyword">class</span> Teacher<span class="token punctuation">(</span><span class="token keyword">var</span> name<span class="token operator">:</span><span class="token builtin">String</span><span class="token punctuation">,</span> age<span class="token operator">:</span><span class="token builtin">Int</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
  <span class="token comment">//_ 表示是任意值</span>
  <span class="token keyword">var</span> sex<span class="token operator">:</span><span class="token builtin">String</span> <span class="token operator">=</span> _
  <span class="token keyword">var</span> province<span class="token operator">:</span><span class="token builtin">String</span> <span class="token operator">=</span> _

  <span class="token comment">//类中可以定义多个辅助构造器</span>
  <span class="token keyword">def</span> <span class="token keyword">this</span><span class="token punctuation">(</span>name<span class="token operator">:</span><span class="token builtin">String</span><span class="token punctuation">,</span>age<span class="token operator">:</span><span class="token builtin">Int</span><span class="token punctuation">,</span>sex<span class="token operator">:</span><span class="token builtin">String</span><span class="token punctuation">)</span><span class="token punctuation">{</span>
    <span class="token keyword">this</span><span class="token punctuation">(</span>name<span class="token punctuation">,</span>age<span class="token punctuation">)</span><span class="token comment">//调用主构造器</span>
    <span class="token keyword">this</span><span class="token punctuation">.</span>sex<span class="token operator">=</span>sex
  <span class="token punctuation">}</span>

  <span class="token comment">//辅助构造器2</span>
  <span class="token keyword">def</span> <span class="token keyword">this</span><span class="token punctuation">(</span>name<span class="token operator">:</span><span class="token builtin">String</span><span class="token punctuation">,</span>age<span class="token operator">:</span><span class="token builtin">Int</span><span class="token punctuation">,</span>sex<span class="token operator">:</span><span class="token builtin">String</span><span class="token punctuation">,</span>prov<span class="token operator">:</span><span class="token builtin">String</span><span class="token punctuation">)</span><span class="token punctuation">{</span>
    <span class="token keyword">this</span><span class="token punctuation">(</span>name<span class="token punctuation">,</span>age<span class="token punctuation">)</span><span class="token comment">//调用主构造器</span>
    <span class="token keyword">this</span><span class="token punctuation">.</span>sex<span class="token operator">=</span>sex
    <span class="token keyword">this</span><span class="token punctuation">.</span>province <span class="token operator">=</span> prov
  <span class="token punctuation">}</span>

  <span class="token comment">//使用private关键词修改的方法,是私有方法,外面不可以访问</span>
  <span class="token keyword">private</span> <span class="token keyword">def</span> sayHello<span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token operator">:</span> <span class="token builtin">Unit</span> <span class="token operator">=</span><span class="token punctuation">{</span>
    println<span class="token punctuation">(</span><span class="token string">&quot;hello&quot;</span><span class="token punctuation">)</span>
  <span class="token punctuation">}</span>

  <span class="token annotation punctuation">@Override</span>
  <span class="token keyword">override</span> <span class="token keyword">def</span> toString<span class="token operator">:</span> <span class="token builtin">String</span> <span class="token operator">=</span> <span class="token punctuation">{</span>
    <span class="token string">&quot;name=&quot;</span><span class="token operator">+</span><span class="token keyword">this</span><span class="token punctuation">.</span>name<span class="token operator">+</span><span class="token string">&quot;, age=&quot;</span><span class="token operator">+</span><span class="token keyword">this</span><span class="token punctuation">.</span>age<span class="token operator">+</span><span class="token string">&quot;, sex=&quot;</span><span class="token operator">+</span><span class="token keyword">this</span><span class="token punctuation">.</span>sex<span class="token operator">+</span><span class="token string">&quot;, province=&quot;</span><span class="token operator">+</span><span class="token keyword">this</span><span class="token punctuation">.</span>province
  <span class="token punctuation">}</span>

<span class="token punctuation">}</span>
<span class="token comment">//可以试着移动DefaultClass对象去不同路径下，看看是否还能访问到Teacher类</span>
<span class="token keyword">object</span> DefaultClassTest<span class="token punctuation">{</span>
  <span class="token keyword">def</span> main<span class="token punctuation">(</span>args<span class="token operator">:</span> Array<span class="token punctuation">[</span><span class="token builtin">String</span><span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token operator">:</span> <span class="token builtin">Unit</span> <span class="token operator">=</span> <span class="token punctuation">{</span>
    <span class="token keyword">val</span> t1 <span class="token operator">=</span> <span class="token keyword">new</span> Teacher<span class="token punctuation">(</span><span class="token string">&quot;Saint&quot;</span><span class="token punctuation">,</span><span class="token number">22</span><span class="token punctuation">)</span>
    t1<span class="token punctuation">.</span>sex <span class="token operator">=</span> <span class="token string">&quot;male&quot;</span>
    println<span class="token punctuation">(</span>t1<span class="token punctuation">)</span>

    <span class="token keyword">val</span> t2 <span class="token operator">=</span> <span class="token keyword">new</span> Teacher<span class="token punctuation">(</span><span class="token string">&quot;Alice&quot;</span><span class="token punctuation">,</span><span class="token number">35</span><span class="token punctuation">,</span><span class="token string">&quot;female&quot;</span><span class="token punctuation">,</span><span class="token string">&quot;GuangDong&quot;</span><span class="token punctuation">)</span>
    println<span class="token punctuation">(</span>t2<span class="token punctuation">)</span>
    <span class="token comment">//t2.sayHello() //不可访问</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br><span class="line-number">16</span><br><span class="line-number">17</span><br><span class="line-number">18</span><br><span class="line-number">19</span><br><span class="line-number">20</span><br><span class="line-number">21</span><br><span class="line-number">22</span><br><span class="line-number">23</span><br><span class="line-number">24</span><br><span class="line-number">25</span><br><span class="line-number">26</span><br><span class="line-number">27</span><br><span class="line-number">28</span><br><span class="line-number">29</span><br><span class="line-number">30</span><br><span class="line-number">31</span><br><span class="line-number">32</span><br><span class="line-number">33</span><br><span class="line-number">34</span><br><span class="line-number">35</span><br><span class="line-number">36</span><br><span class="line-number">37</span><br><span class="line-number">38</span><br><span class="line-number">39</span><br><span class="line-number">40</span><br><span class="line-number">41</span><br><span class="line-number">42</span><br><span class="line-number">43</span><br></div></div><h4 id="_5-2-2-伴生类-apply方法"><a href="#_5-2-2-伴生类-apply方法" class="header-anchor">#</a> 5.2.2 伴生类/apply方法</h4> <p>在 Scala 中, 当单例对象与某个类共享同一个名称时，他被称作是这个类的伴生对象。必须在同一个源文件里定义类和它的伴生对象。类被称为是这个单例对象的伴生类。类和它的伴生对象可以互相访问其私有成员。</p> <div class="language-scala line-numbers-mode"><pre class="language-scala"><code><span class="token comment">//伴生类</span>
<span class="token keyword">class</span> Person <span class="token punctuation">{</span>

<span class="token punctuation">}</span>

<span class="token comment">//伴生对象</span>
<span class="token keyword">object</span> Person <span class="token keyword">extends</span> App<span class="token punctuation">{</span>
  <span class="token comment">//apply方法是伴生对象的伴生方法</span>
  <span class="token keyword">def</span> apply<span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token operator">=</span><span class="token punctuation">{</span>
    println<span class="token punctuation">(</span><span class="token string">&quot;Calling apply!!!&quot;</span><span class="token punctuation">)</span>
  <span class="token punctuation">}</span>

  <span class="token comment">//使用class新建对象,只能使用class中的属性和方法</span>
  <span class="token keyword">val</span> person <span class="token operator">=</span> <span class="token keyword">new</span> Person<span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token comment">//在创建一个新对象时,不会调用apply方法</span>

  <span class="token comment">//使用object的apply方法新建对象,只能使用class中的属性和方法</span>
  <span class="token keyword">val</span> p1 <span class="token operator">=</span> Person<span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token comment">//在创建一个伴生对象时,会调用到apply方法</span>

  <span class="token comment">//使用object提供的对象,只能使用object中的属性和方法</span>
  <span class="token keyword">val</span> p2 <span class="token operator">=</span> Person <span class="token comment">//在引用伴生对象时,不会调用到apply方法</span>

  Person<span class="token punctuation">.</span>apply<span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token comment">//在引用伴生对象时,想要调用到apply方法,必须手动调用</span>
<span class="token punctuation">}</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br><span class="line-number">16</span><br><span class="line-number">17</span><br><span class="line-number">18</span><br><span class="line-number">19</span><br><span class="line-number">20</span><br><span class="line-number">21</span><br><span class="line-number">22</span><br><span class="line-number">23</span><br></div></div><h3 id="_5-3-特质"><a href="#_5-3-特质" class="header-anchor">#</a> 5.3 特质</h3> <p>Scala Trait(特质) 相当于 Java 的接口，实际上它比java接口还功能强大。 与接口不同的是，它还可以定义属性和方法的实现。</p> <p>一般情况下 Scala 的类只能够继承单一父类，但是如果是 Trait(特质) 的话就可以继承多个， 实现了多重继承。</p> <div class="language-scala line-numbers-mode"><pre class="language-scala"><code><span class="token comment">/**
 * 使用trait关键词修饰的类,称为特质,类似于java中的接口(interface)
 * 在scala中的特质,方法可以有实现和没有实现.
 */</span>
<span class="token keyword">trait</span> ScalaTrait <span class="token punctuation">{</span>
  <span class="token comment">//定义一个没有实现的方法</span>
  <span class="token keyword">def</span> sayHello<span class="token punctuation">(</span><span class="token punctuation">)</span>

  <span class="token comment">//定义一个有实现的方法</span>
  <span class="token keyword">def</span> sayHello2<span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token operator">:</span><span class="token builtin">Unit</span><span class="token operator">=</span><span class="token punctuation">{</span>
    println<span class="token punctuation">(</span><span class="token string">&quot;sayHello2 is called.&quot;</span><span class="token punctuation">)</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span>

</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br></div></div><div class="language-scala line-numbers-mode"><pre class="language-scala"><code><span class="token keyword">trait</span> Fly <span class="token punctuation">{</span>
  <span class="token keyword">def</span> fly<span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token operator">:</span><span class="token builtin">Unit</span><span class="token operator">=</span><span class="token punctuation">{</span>
    println<span class="token punctuation">(</span><span class="token string">&quot;I've been flying&quot;</span><span class="token punctuation">)</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br></div></div><div class="language-scala line-numbers-mode"><pre class="language-scala"><code><span class="token keyword">object</span> ScalaTraitImpl <span class="token keyword">extends</span> ScalaTrait <span class="token keyword">with</span> Fly<span class="token punctuation">{</span><span class="token comment">//实现多个特质以达成多重继承</span>
  <span class="token keyword">override</span> <span class="token keyword">def</span> sayHello<span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token operator">:</span> <span class="token builtin">Unit</span> <span class="token operator">=</span> <span class="token punctuation">{</span>
    println<span class="token punctuation">(</span><span class="token string">&quot;ScalaTraitImpl --- ScalaTrait --- sayHello&quot;</span><span class="token punctuation">)</span>
  <span class="token punctuation">}</span>

  <span class="token keyword">def</span> main<span class="token punctuation">(</span>args<span class="token operator">:</span> Array<span class="token punctuation">[</span><span class="token builtin">String</span><span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token operator">:</span> <span class="token builtin">Unit</span> <span class="token operator">=</span> <span class="token punctuation">{</span>
    ScalaTraitImpl<span class="token punctuation">.</span>sayHello<span class="token punctuation">(</span><span class="token punctuation">)</span>
    ScalaTraitImpl<span class="token punctuation">.</span>sayHello2<span class="token punctuation">(</span><span class="token punctuation">)</span>
    ScalaTraitImpl<span class="token punctuation">.</span>fly<span class="token punctuation">(</span><span class="token punctuation">)</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br></div></div><h3 id="_5-4-抽象类"><a href="#_5-4-抽象类" class="header-anchor">#</a> 5.4 抽象类</h3> <p>在 Scala 中, 使用 abstract 修饰的类称为抽象类. 在抽象类中可以定义属性、未实现的方法和具体实现的方法。</p> <div class="language-scala line-numbers-mode"><pre class="language-scala"><code><span class="token keyword">package</span> <span class="token namespace">com<span class="token punctuation">.</span>saint<span class="token punctuation">.</span>scala<span class="token punctuation">.</span>abstractClass</span>

<span class="token comment">//使用abstract修饰的类称为抽象类</span>
<span class="token keyword">abstract</span> <span class="token keyword">class</span> AbstractClass <span class="token punctuation">{</span>
  <span class="token keyword">var</span> name<span class="token operator">:</span><span class="token builtin">String</span> <span class="token operator">=</span> <span class="token string">&quot;Saint&quot;</span>

  <span class="token comment">//没实现的方法</span>
  <span class="token keyword">def</span> eat<span class="token punctuation">(</span>food<span class="token operator">:</span><span class="token builtin">String</span><span class="token punctuation">)</span><span class="token operator">:</span><span class="token builtin">String</span>

  <span class="token comment">//有实现的方法</span>
  <span class="token keyword">def</span> swimming<span class="token punctuation">(</span>style<span class="token operator">:</span><span class="token builtin">String</span><span class="token punctuation">)</span><span class="token operator">:</span><span class="token builtin">Unit</span><span class="token operator">=</span><span class="token punctuation">{</span>
    println<span class="token punctuation">(</span><span class="token string-interpolation"><span class="token id function">f</span><span class="token string">&quot;像</span><span class="token interpolation"><span class="token punctuation">${</span><span class="token expression">style</span><span class="token punctuation">}</span></span><span class="token string">这样游泳...&quot;</span></span><span class="token punctuation">)</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br></div></div><div class="language-scala line-numbers-mode"><pre class="language-scala"><code><span class="token keyword">package</span> <span class="token namespace">com<span class="token punctuation">.</span>saint<span class="token punctuation">.</span>scala<span class="token punctuation">.</span>abstractClass</span>

<span class="token keyword">trait</span> Fly <span class="token punctuation">{</span>
  <span class="token keyword">def</span> fly<span class="token punctuation">(</span>style<span class="token operator">:</span><span class="token builtin">String</span><span class="token punctuation">)</span>
<span class="token punctuation">}</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br></div></div><div class="language-scala line-numbers-mode"><pre class="language-scala"><code><span class="token keyword">package</span> <span class="token namespace">com<span class="token punctuation">.</span>saint<span class="token punctuation">.</span>scala<span class="token punctuation">.</span>abstractClass</span>

<span class="token keyword">class</span> AbsClassImpl <span class="token keyword">extends</span> AbsClass <span class="token keyword">with</span> Fly<span class="token punctuation">{</span>

  <span class="token keyword">override</span> <span class="token keyword">def</span> eat<span class="token punctuation">(</span>food<span class="token operator">:</span> <span class="token builtin">String</span><span class="token punctuation">)</span><span class="token operator">:</span> <span class="token builtin">String</span> <span class="token operator">=</span> <span class="token punctuation">{</span>
     <span class="token string-interpolation"><span class="token id function">f</span><span class="token string">&quot;吃</span><span class="token interpolation"><span class="token punctuation">${</span><span class="token expression">food</span><span class="token punctuation">}</span></span><span class="token string">....&quot;</span></span>
  <span class="token punctuation">}</span>

  <span class="token keyword">override</span> <span class="token keyword">def</span> fly<span class="token punctuation">(</span>style<span class="token operator">:</span> <span class="token builtin">String</span><span class="token punctuation">)</span><span class="token operator">:</span> <span class="token builtin">Unit</span> <span class="token operator">=</span> <span class="token punctuation">{</span>
    println<span class="token punctuation">(</span><span class="token string-interpolation"><span class="token id function">f</span><span class="token string">&quot;像</span><span class="token interpolation"><span class="token punctuation">${</span><span class="token expression">style</span><span class="token punctuation">}</span></span><span class="token string">一样飞翔....&quot;</span></span><span class="token punctuation">)</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span>

<span class="token keyword">object</span> AbsClassTest <span class="token punctuation">{</span>

  <span class="token keyword">def</span> main<span class="token punctuation">(</span>args<span class="token operator">:</span> Array<span class="token punctuation">[</span><span class="token builtin">String</span><span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token operator">:</span> <span class="token builtin">Unit</span> <span class="token operator">=</span> <span class="token punctuation">{</span>
    <span class="token keyword">val</span> absClassImpl <span class="token operator">=</span> <span class="token keyword">new</span> AbsClassImpl<span class="token punctuation">(</span><span class="token punctuation">)</span>

    println<span class="token punctuation">(</span>absClassImpl<span class="token punctuation">.</span>name<span class="token punctuation">)</span><span class="token comment">//继承了AbstractClass抽象类的属性</span>
    absClassImpl<span class="token punctuation">.</span>fly<span class="token punctuation">(</span><span class="token string">&quot;燕子&quot;</span><span class="token punctuation">)</span><span class="token comment">//实现了Fly特质的方法</span>
    println<span class="token punctuation">(</span>absClassImpl<span class="token punctuation">.</span>eat<span class="token punctuation">(</span><span class="token string">&quot;土豆&quot;</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token comment">//实现了AbstractClass抽象类的方法</span>
    absClassImpl<span class="token punctuation">.</span>swimming<span class="token punctuation">(</span><span class="token string">&quot;青蛙&quot;</span><span class="token punctuation">)</span><span class="token comment">//继承了AbstractClass抽象类的方法</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br><span class="line-number">16</span><br><span class="line-number">17</span><br><span class="line-number">18</span><br><span class="line-number">19</span><br><span class="line-number">20</span><br><span class="line-number">21</span><br><span class="line-number">22</span><br><span class="line-number">23</span><br><span class="line-number">24</span><br></div></div><h3 id="_5-5-继承"><a href="#_5-5-继承" class="header-anchor">#</a> 5.5 继承</h3> <p>继承是面向对象的概念，用于代码的可重用性。 被扩展的类称为超类或父类, 扩展的类称 为派生类或子类。Scala 可以通过使用 extends 关键字来实现继承其他类或者特质</p> <h4 id="_5-5-1-final关键字"><a href="#_5-5-1-final关键字" class="header-anchor">#</a> 5.5.1 final关键字</h4> <p>被 final 修饰的类不能被继承;</p> <p>被 final 修饰的属性不能重写;</p> <p>被 final 修饰的方法不能被重写。</p> <h4 id="_5-5-2-type关键字"><a href="#_5-5-2-type关键字" class="header-anchor">#</a> 5.5.2 type关键字</h4> <p>Scala 里的类型，除了在定义 class,trait,object 时会产生类型，还可以通过 type 关键字来声明类型。</p> <p>type 相当于声明一个类型别名。</p> <p>通常 type 用于声明某种复杂类型，或用于定义一个抽象类型。</p> <h3 id="_5-6-样例类-样例对象"><a href="#_5-6-样例类-样例对象" class="header-anchor">#</a> 5.6 样例类|样例对象</h3> <p>样例类,使用 case 关键字 修饰的类, 其重要的特征就是支持模式匹配, 样例类默认是实现了序列化接口的.</p> <p>样例对象(object), 其重要特征就是支持模式匹配</p> <div class="language-scala line-numbers-mode"><pre class="language-scala"><code><span class="token keyword">package</span> <span class="token namespace">com<span class="token punctuation">.</span>saint<span class="token punctuation">.</span>scala<span class="token punctuation">.</span>caseClass</span>

<span class="token comment">//case修饰的类称为样例类 支持模式匹配 默认是实现了Serializable接口</span>
<span class="token keyword">case</span> <span class="token keyword">class</span> Message<span class="token punctuation">(</span>sender<span class="token operator">:</span><span class="token builtin">String</span><span class="token punctuation">,</span>msg<span class="token operator">:</span><span class="token builtin">String</span><span class="token punctuation">)</span>

<span class="token comment">//case修饰的对象称为样例对象</span>
<span class="token keyword">case</span> <span class="token keyword">object</span> HeartBeat

<span class="token keyword">object</span> ObjectTest <span class="token punctuation">{</span>
  <span class="token keyword">def</span> main<span class="token punctuation">(</span>args<span class="token operator">:</span> Array<span class="token punctuation">[</span><span class="token builtin">String</span><span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token operator">:</span> <span class="token builtin">Unit</span> <span class="token operator">=</span> <span class="token punctuation">{</span>
    <span class="token keyword">val</span> message <span class="token operator">=</span> <span class="token keyword">new</span> Message<span class="token punctuation">(</span><span class="token string">&quot;Saint&quot;</span><span class="token punctuation">,</span><span class="token string">&quot;Hello&quot;</span><span class="token punctuation">)</span>
    println<span class="token punctuation">(</span>message<span class="token punctuation">.</span>sender<span class="token punctuation">,</span>message<span class="token punctuation">.</span>msg<span class="token punctuation">)</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br></div></div><h2 id="_6-模式匹配-match-case"><a href="#_6-模式匹配-match-case" class="header-anchor">#</a> 6.模式匹配(match case)</h2> <h3 id="_6-1-匹配字符串-类型-守卫"><a href="#_6-1-匹配字符串-类型-守卫" class="header-anchor">#</a> 6.1 匹配字符串|类型|守卫</h3> <div class="language-scala line-numbers-mode"><pre class="language-scala"><code><span class="token comment">//匹配字符串</span>
<span class="token keyword">def</span> matchContent<span class="token punctuation">(</span>str<span class="token operator">:</span><span class="token builtin">String</span><span class="token punctuation">)</span> <span class="token operator">=</span> str <span class="token keyword">match</span> <span class="token punctuation">{</span>
    <span class="token keyword">case</span> <span class="token string">&quot;hello&quot;</span> <span class="token keyword">=&gt;</span>println<span class="token punctuation">(</span><span class="token string">&quot;hello&quot;</span><span class="token punctuation">)</span>
    <span class="token keyword">case</span> <span class="token string">&quot;lily&quot;</span> <span class="token keyword">=&gt;</span>println<span class="token punctuation">(</span><span class="token string">&quot;hi, lily&quot;</span><span class="token punctuation">)</span>
    <span class="token keyword">case</span> _ <span class="token keyword">=&gt;</span> println<span class="token punctuation">(</span><span class="token string">&quot;字符串匹配不上&quot;</span><span class="token punctuation">)</span>
<span class="token punctuation">}</span>
matchContent<span class="token punctuation">(</span><span class="token string">&quot;hello&quot;</span><span class="token punctuation">)</span>
matchContent<span class="token punctuation">(</span><span class="token string">&quot;saint&quot;</span><span class="token punctuation">)</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br></div></div><div class="language-scala line-numbers-mode"><pre class="language-scala"><code><span class="token keyword">def</span> typeMatch<span class="token punctuation">(</span>ty<span class="token operator">:</span><span class="token builtin">Any</span><span class="token punctuation">)</span><span class="token operator">=</span>ty <span class="token keyword">match</span><span class="token punctuation">{</span>
    <span class="token keyword">case</span> x<span class="token operator">:</span><span class="token builtin">Int</span> <span class="token keyword">=&gt;</span> println<span class="token punctuation">(</span><span class="token string">&quot;Int 类型&quot;</span><span class="token punctuation">)</span>
    <span class="token keyword">case</span> y<span class="token operator">:</span><span class="token builtin">String</span> <span class="token keyword">=&gt;</span> println<span class="token punctuation">(</span><span class="token string">&quot;String 类型&quot;</span><span class="token punctuation">)</span>
    <span class="token keyword">case</span> z<span class="token operator">:</span><span class="token builtin">Boolean</span> <span class="token keyword">=&gt;</span> println<span class="token punctuation">(</span><span class="token string">&quot;Boolean 类型&quot;</span><span class="token punctuation">)</span>
    <span class="token keyword">case</span> _ <span class="token keyword">=&gt;</span> println<span class="token punctuation">(</span><span class="token string">&quot;类型匹配不上&quot;</span><span class="token punctuation">)</span>
<span class="token punctuation">}</span>
typeMatch<span class="token punctuation">(</span><span class="token number">10</span><span class="token punctuation">)</span>
typeMatch<span class="token punctuation">(</span><span class="token string">&quot;hello&quot;</span><span class="token punctuation">)</span>
typeMatch<span class="token punctuation">(</span><span class="token boolean">true</span><span class="token punctuation">)</span>
typeMatch<span class="token punctuation">(</span><span class="token number">10L</span><span class="token punctuation">)</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br></div></div><h3 id="_6-2-匹配数组"><a href="#_6-2-匹配数组" class="header-anchor">#</a> 6.2 匹配数组</h3> <div class="language-scala line-numbers-mode"><pre class="language-scala"><code><span class="token comment">//匹配数组</span>
<span class="token comment">//_: 标识是数组的一个占位符</span>
<span class="token keyword">def</span> arrayMatch<span class="token punctuation">(</span>arr<span class="token operator">:</span><span class="token builtin">Any</span><span class="token punctuation">)</span><span class="token operator">=</span>arr <span class="token keyword">match</span><span class="token punctuation">{</span>
    <span class="token keyword">case</span> Array<span class="token punctuation">(</span><span class="token number">0</span><span class="token punctuation">)</span> <span class="token keyword">=&gt;</span> println<span class="token punctuation">(</span><span class="token string">&quot;只有一个元素为0的数组&quot;</span><span class="token punctuation">)</span>
    <span class="token keyword">case</span> Array<span class="token punctuation">(</span><span class="token number">1</span><span class="token punctuation">,</span>_<span class="token punctuation">)</span> <span class="token keyword">=&gt;</span> println<span class="token punctuation">(</span><span class="token string">&quot;第一个元素为1，第二个元素任意数的数组&quot;</span><span class="token punctuation">)</span>
    <span class="token keyword">case</span> Array<span class="token punctuation">(</span><span class="token number">1</span><span class="token punctuation">,</span>_<span class="token punctuation">,</span><span class="token number">10</span><span class="token punctuation">)</span> <span class="token keyword">=&gt;</span> println<span class="token punctuation">(</span><span class="token string">&quot;数组三个元素，开头元素为1，结尾元素为10&quot;</span><span class="token punctuation">)</span>
    <span class="token keyword">case</span> _ <span class="token keyword">=&gt;</span> println<span class="token punctuation">(</span><span class="token string">&quot;数组匹配不上&quot;</span><span class="token punctuation">)</span>
<span class="token punctuation">}</span>
arrayMatch<span class="token punctuation">(</span>Array<span class="token punctuation">(</span><span class="token number">0</span><span class="token punctuation">)</span><span class="token punctuation">)</span>
arrayMatch<span class="token punctuation">(</span>Array<span class="token punctuation">(</span><span class="token number">1</span><span class="token punctuation">,</span><span class="token number">2</span><span class="token punctuation">)</span><span class="token punctuation">)</span>
arrayMatch<span class="token punctuation">(</span>Array<span class="token punctuation">(</span><span class="token number">1</span><span class="token punctuation">,</span><span class="token number">2</span><span class="token punctuation">,</span><span class="token number">10</span><span class="token punctuation">)</span><span class="token punctuation">)</span>
arrayMatch<span class="token punctuation">(</span>Array<span class="token punctuation">(</span><span class="token number">1</span><span class="token punctuation">,</span><span class="token number">2</span><span class="token punctuation">,</span><span class="token number">10</span><span class="token punctuation">,</span><span class="token number">11</span><span class="token punctuation">)</span><span class="token punctuation">)</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br></div></div><h3 id="_6-3-匹配集合"><a href="#_6-3-匹配集合" class="header-anchor">#</a> 6.3 匹配集合</h3> <div class="language-scala line-numbers-mode"><pre class="language-scala"><code><span class="token keyword">def</span> listMatch<span class="token punctuation">(</span>list<span class="token operator">:</span><span class="token builtin">Any</span><span class="token punctuation">)</span><span class="token operator">=</span>list <span class="token keyword">match</span><span class="token punctuation">{</span>
    <span class="token keyword">case</span> <span class="token number">0</span><span class="token operator">::</span>Nil <span class="token keyword">=&gt;</span>println<span class="token punctuation">(</span><span class="token string">&quot;只有一个元素的集合&quot;</span><span class="token punctuation">)</span>
    <span class="token keyword">case</span> <span class="token number">0</span><span class="token operator">::</span><span class="token number">9</span><span class="token operator">::</span>Nil <span class="token keyword">=&gt;</span>println<span class="token punctuation">(</span><span class="token string">&quot;只有0、9两个元素的集合&quot;</span><span class="token punctuation">)</span><span class="token comment">//有顺序</span>
    <span class="token keyword">case</span> x<span class="token operator">::</span>y<span class="token operator">::</span>z<span class="token operator">::</span>Nil <span class="token keyword">=&gt;</span>println<span class="token punctuation">(</span><span class="token string">&quot;只有3个为任意值的集合&quot;</span><span class="token punctuation">)</span>
    <span class="token keyword">case</span> m<span class="token operator">::</span>n <span class="token keyword">if</span> n<span class="token punctuation">.</span>length <span class="token operator">&gt;</span><span class="token number">2</span><span class="token keyword">=&gt;</span>println<span class="token punctuation">(</span><span class="token string">&quot;匹配一个并集的集合，其中可以拆分出集合n，如果n集合长度大于2，则满足条件&quot;</span><span class="token punctuation">)</span>
    <span class="token keyword">case</span> _ <span class="token keyword">=&gt;</span> println<span class="token punctuation">(</span><span class="token string">&quot;集合匹配不上&quot;</span><span class="token punctuation">)</span>
<span class="token punctuation">}</span>
listMatch<span class="token punctuation">(</span>List<span class="token punctuation">(</span><span class="token number">0</span><span class="token punctuation">)</span><span class="token punctuation">)</span>
listMatch<span class="token punctuation">(</span>List<span class="token punctuation">(</span><span class="token number">0</span><span class="token punctuation">,</span><span class="token number">9</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token comment">//有顺序</span>
listMatch<span class="token punctuation">(</span>List<span class="token punctuation">(</span><span class="token number">1</span><span class="token punctuation">,</span><span class="token number">2</span><span class="token punctuation">,</span><span class="token number">3</span><span class="token punctuation">)</span><span class="token punctuation">)</span>
listMatch<span class="token punctuation">(</span>List<span class="token punctuation">(</span><span class="token number">1</span><span class="token punctuation">,</span><span class="token number">2</span><span class="token punctuation">,</span><span class="token number">3</span><span class="token punctuation">,</span><span class="token number">4</span><span class="token punctuation">)</span><span class="token punctuation">)</span>
listMatch<span class="token punctuation">(</span>List<span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br></div></div><h3 id="_6-4匹配元组"><a href="#_6-4匹配元组" class="header-anchor">#</a> 6.4匹配元组</h3> <div class="language-scala line-numbers-mode"><pre class="language-scala"><code><span class="token comment">//匹配元组</span>
<span class="token keyword">def</span> tupleMatch<span class="token punctuation">(</span>tu<span class="token operator">:</span><span class="token builtin">Any</span><span class="token punctuation">)</span><span class="token operator">=</span>tu <span class="token keyword">match</span><span class="token punctuation">{</span>
    <span class="token keyword">case</span> <span class="token punctuation">(</span><span class="token number">0</span><span class="token punctuation">,</span>_<span class="token punctuation">)</span> <span class="token keyword">=&gt;</span> println<span class="token punctuation">(</span><span class="token string">&quot;匹配一个为两列的元素，第一个元素为0，第二个元素为任意值&quot;</span><span class="token punctuation">)</span>
    <span class="token keyword">case</span> <span class="token punctuation">(</span>x<span class="token punctuation">,</span>y<span class="token punctuation">,</span>z<span class="token punctuation">)</span> <span class="token keyword">=&gt;</span> println<span class="token punctuation">(</span><span class="token string">&quot;匹配一个为三列元素的元组&quot;</span><span class="token punctuation">)</span>
    <span class="token keyword">case</span> <span class="token punctuation">(</span>_<span class="token punctuation">,</span><span class="token string">&quot;abc&quot;</span><span class="token punctuation">)</span> <span class="token keyword">=&gt;</span>println<span class="token punctuation">(</span><span class="token string">&quot;匹配一个为两列的元素的元组，第二列元素必须为abc&quot;</span><span class="token punctuation">)</span>
    <span class="token keyword">case</span> _ <span class="token keyword">=&gt;</span> println<span class="token punctuation">(</span><span class="token string">&quot;元组匹配不上&quot;</span><span class="token punctuation">)</span>
<span class="token punctuation">}</span>
tupleMatch<span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token number">0</span><span class="token punctuation">,</span><span class="token string">&quot;saint&quot;</span><span class="token punctuation">)</span><span class="token punctuation">)</span>
tupleMatch<span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token number">0</span><span class="token punctuation">,</span><span class="token string">&quot;saint&quot;</span><span class="token punctuation">,</span><span class="token boolean">true</span><span class="token punctuation">)</span><span class="token punctuation">)</span>
tupleMatch<span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token number">1</span><span class="token punctuation">,</span><span class="token string">&quot;abc&quot;</span><span class="token punctuation">)</span><span class="token punctuation">)</span>
tupleMatch<span class="token punctuation">(</span><span class="token punctuation">)</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br></div></div><h3 id="_6-5-匹配样例类-样列对象"><a href="#_6-5-匹配样例类-样列对象" class="header-anchor">#</a> 6.5 匹配样例类|样列对象</h3> <div class="language-scala line-numbers-mode"><pre class="language-scala"><code><span class="token keyword">def</span> caseClassAndObjectMatch<span class="token punctuation">(</span>o<span class="token operator">:</span><span class="token builtin">Any</span><span class="token punctuation">)</span><span class="token operator">=</span>o <span class="token keyword">match</span><span class="token punctuation">{</span>
    <span class="token keyword">case</span> Message <span class="token keyword">=&gt;</span> println<span class="token punctuation">(</span><span class="token string">&quot;匹配上Message样例类，但是匹配不上样例类的实例对象&quot;</span><span class="token punctuation">)</span>
    <span class="token keyword">case</span> HeartBeat <span class="token keyword">=&gt;</span> println<span class="token punctuation">(</span><span class="token string">&quot;匹配上HeartBeat的样例对象&quot;</span><span class="token punctuation">)</span>
    <span class="token keyword">case</span> m<span class="token operator">:</span>Message <span class="token keyword">=&gt;</span> println<span class="token punctuation">(</span><span class="token string-interpolation"><span class="token id function">s</span><span class="token string">&quot;匹配上一个样例类，并且是有两个参数的实例：</span><span class="token interpolation"><span class="token punctuation">${</span><span class="token expression">m<span class="token punctuation">.</span>sender</span><span class="token punctuation">}</span></span><span class="token string">,</span><span class="token interpolation"><span class="token punctuation">${</span><span class="token expression">m<span class="token punctuation">.</span>msg</span><span class="token punctuation">}</span></span><span class="token string">&quot;</span></span><span class="token punctuation">)</span>
    <span class="token keyword">case</span> _ <span class="token keyword">=&gt;</span> println<span class="token punctuation">(</span><span class="token string">&quot;样例类/对象匹配不上&quot;</span><span class="token punctuation">)</span>
<span class="token punctuation">}</span>
caseClassAndObjectMatch<span class="token punctuation">(</span>Message<span class="token punctuation">)</span>
caseClassAndObjectMatch<span class="token punctuation">(</span>HeartBeat<span class="token punctuation">)</span>
caseClassAndObjectMatch<span class="token punctuation">(</span>Message<span class="token punctuation">(</span><span class="token string">&quot;Saint&quot;</span><span class="token punctuation">,</span><span class="token string">&quot;match learnt&quot;</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token comment">//不会匹配第一个</span>
caseClassAndObjectMatch<span class="token punctuation">(</span><span class="token punctuation">)</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br></div></div><h2 id="_7-scala高级语法"><a href="#_7-scala高级语法" class="header-anchor">#</a> 7.Scala高级语法</h2> <h3 id="_7-1隐式-implicit-详解"><a href="#_7-1隐式-implicit-详解" class="header-anchor">#</a> 7.1隐式(implicit)详解</h3> <p>思考: 我们调用别人的框架，发现少了一些方法，需要添加，但是让别人为你一个人添加 是不可能滴。</p> <p>比如使用 java.io.File 读取文件非常的繁琐，能不能让 Oracle 公司给我们再添加一个 read 方法，直接返回文件中的所有内容，我想请问你脸大么？</p> <p>伟大领袖毛主席教育我们说:“自己动手丰衣足食。”。</p> <p>掌握 implicit 的用法是阅读 spark 源码的基础，也是学习 Scala 其它的开源框架的关键， implicit 可分为:隐式参数、隐式转换类型、隐式类三部分。</p> <p>编译器内置的隐式转换类及方法查看指令：</p> <div class="language-shell line-numbers-mode"><pre class="language-shell"><code>scala<span class="token operator">&gt;</span> :implicit <span class="token parameter variable">-v</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br></div></div><h4 id="_7-1-1-隐式参数"><a href="#_7-1-1-隐式参数" class="header-anchor">#</a> 7.1.1 隐式参数</h4> <p>定义方法时，可以把参数列表标记为 implicit，表示该参数是隐式参数。一个方法只会有一 个隐式参数列表，置于方法的最后一个参数列表。如果方法有多个隐式参数，只需一个 implicit 修饰即可。譬如:</p> <div class="language-scala line-numbers-mode"><pre class="language-scala"><code><span class="token keyword">def</span> fire<span class="token punctuation">(</span>x<span class="token operator">:</span> <span class="token builtin">Int</span><span class="token punctuation">)</span> <span class="token punctuation">(</span><span class="token keyword">implicit</span> a<span class="token operator">:</span><span class="token builtin">String</span><span class="token punctuation">,</span> b<span class="token operator">:</span> <span class="token builtin">Int</span> <span class="token operator">=</span> <span class="token number">9527</span><span class="token punctuation">)</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br></div></div><p>当调用包含隐式参数的方法是，如果当前上下文中有合适的隐式值，则编译器会自动为该 组参数填充合适的值，且上下文中只能有一个符合预期的隐式值。如果没有编译器会抛出 异常。当然，标记为隐式参数的我们也可以手动为该参数添加默认值。</p> <div class="language-scala line-numbers-mode"><pre class="language-scala"><code><span class="token keyword">implicit</span> <span class="token keyword">val</span> content <span class="token operator">=</span> <span class="token number">1</span>

<span class="token comment">//使用implicit写实的参数为隐式转换参数，如果是多个参数则必须写在一个柯里化参数里面，使用一个implicit修饰符</span>
<span class="token keyword">def</span> add<span class="token punctuation">(</span>a<span class="token operator">:</span><span class="token builtin">Int</span><span class="token punctuation">)</span><span class="token punctuation">(</span><span class="token keyword">implicit</span> b<span class="token operator">:</span><span class="token builtin">Int</span><span class="token punctuation">)</span><span class="token operator">=</span>a<span class="token operator">+</span>b

<span class="token keyword">def</span> addPlus<span class="token punctuation">(</span>a<span class="token operator">:</span><span class="token builtin">Int</span><span class="token punctuation">)</span><span class="token punctuation">(</span><span class="token keyword">implicit</span> b<span class="token operator">:</span><span class="token builtin">Int</span><span class="token punctuation">,</span> c<span class="token operator">:</span><span class="token builtin">Int</span><span class="token punctuation">)</span><span class="token operator">=</span>a<span class="token operator">+</span>b<span class="token operator">+</span>c

<span class="token keyword">def</span> main<span class="token punctuation">(</span>args<span class="token operator">:</span> Array<span class="token punctuation">[</span><span class="token builtin">String</span><span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token operator">:</span> <span class="token builtin">Unit</span> <span class="token operator">=</span> <span class="token punctuation">{</span>
    println<span class="token punctuation">(</span>add<span class="token punctuation">(</span><span class="token number">5</span><span class="token punctuation">)</span><span class="token punctuation">)</span>
    println<span class="token punctuation">(</span>addPlus<span class="token punctuation">(</span><span class="token number">5</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token comment">//调用两次content</span>
    println<span class="token punctuation">(</span>addPlus<span class="token punctuation">(</span><span class="token number">5</span><span class="token punctuation">)</span><span class="token punctuation">(</span><span class="token number">10</span><span class="token punctuation">,</span><span class="token number">20</span><span class="token punctuation">)</span><span class="token punctuation">)</span>
<span class="token punctuation">}</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br></div></div><h4 id="_7-1-2-隐式的转换类型"><a href="#_7-1-2-隐式的转换类型" class="header-anchor">#</a> 7.1.2 隐式的转换类型</h4> <p>使用隐式转换将变量转换成预期的类型是编译器最先使用 implicit 的地方。当编译器看到类</p> <p>型 X 而却需要类型 Y，它就在当前作用域查找是否定义了从类型 X 到类型 Y 的隐式定义。</p> <div class="language-scala line-numbers-mode"><pre class="language-scala"><code><span class="token comment">//隐式转换例子</span>
<span class="token keyword">implicit</span> <span class="token keyword">def</span> double2Int<span class="token punctuation">(</span>d<span class="token operator">:</span><span class="token builtin">Double</span><span class="token punctuation">)</span> <span class="token operator">=</span> d<span class="token punctuation">.</span>toInt
<span class="token keyword">var</span> a<span class="token operator">:</span><span class="token builtin">Int</span> <span class="token operator">=</span> <span class="token number">3.14</span>
println<span class="token punctuation">(</span>a<span class="token punctuation">)</span><span class="token comment">//输出3</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br></div></div><p>现在我们就可以给给 File 类添加一个 read 方法，返回一个文件中的所有内容。</p> <p>定义一个 RichFile 类及伴生对象，在伴生对象中定义一个隐式方法(file -&gt; RichFile)，在伴生类中定义一个 read 方法并返回文件中的所有内容。</p> <div class="language-scala line-numbers-mode"><pre class="language-scala"><code><span class="token keyword">package</span> <span class="token namespace">com<span class="token punctuation">.</span>saint<span class="token punctuation">.</span>scala<span class="token punctuation">.</span></span>ImplicitDemo

<span class="token keyword">import</span> <span class="token namespace">java<span class="token punctuation">.</span>io<span class="token punctuation">.</span></span><span class="token punctuation">{</span>BufferedReader<span class="token punctuation">,</span> File<span class="token punctuation">,</span> FileReader<span class="token punctuation">}</span>
<span class="token keyword">import</span> <span class="token namespace">scala<span class="token punctuation">.</span>io<span class="token punctuation">.</span></span>Source

<span class="token comment">//自定义类型RichFile</span>
<span class="token keyword">class</span> RichFile<span class="token punctuation">(</span>file<span class="token operator">:</span>File<span class="token punctuation">)</span><span class="token punctuation">{</span>
  <span class="token comment">//统计行数的方法</span>
  <span class="token keyword">def</span> count<span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token operator">:</span><span class="token builtin">Int</span><span class="token operator">=</span><span class="token punctuation">{</span>
    <span class="token keyword">val</span> fileReader <span class="token operator">=</span> <span class="token keyword">new</span> FileReader<span class="token punctuation">(</span>file<span class="token punctuation">)</span>
    <span class="token keyword">val</span> bufferedReader <span class="token operator">=</span> <span class="token keyword">new</span> BufferedReader<span class="token punctuation">(</span>fileReader<span class="token punctuation">)</span>
    <span class="token keyword">var</span> sum <span class="token operator">=</span><span class="token number">0</span>
    <span class="token keyword">var</span> line <span class="token operator">=</span> bufferedReader<span class="token punctuation">.</span>readLine<span class="token punctuation">(</span><span class="token punctuation">)</span>
    <span class="token keyword">try</span><span class="token punctuation">{</span>
      <span class="token keyword">while</span> <span class="token punctuation">(</span>line<span class="token operator">!=</span><span class="token keyword">null</span><span class="token punctuation">)</span><span class="token punctuation">{</span>
        sum <span class="token operator">+=</span><span class="token number">1</span>
        line <span class="token operator">=</span> bufferedReader<span class="token punctuation">.</span>readLine<span class="token punctuation">(</span><span class="token punctuation">)</span>
      <span class="token punctuation">}</span>
    <span class="token punctuation">}</span><span class="token keyword">catch</span> <span class="token punctuation">{</span>
      <span class="token keyword">case</span> _ <span class="token operator">:</span> Exception <span class="token keyword">=&gt;</span> sum
    <span class="token punctuation">}</span><span class="token keyword">finally</span> <span class="token punctuation">{</span>
      fileReader<span class="token punctuation">.</span>close<span class="token punctuation">(</span><span class="token punctuation">)</span>
      bufferedReader<span class="token punctuation">.</span>close<span class="token punctuation">(</span><span class="token punctuation">)</span>
    <span class="token punctuation">}</span>
    sum
  <span class="token punctuation">}</span>
  <span class="token comment">//返回文件中所有内容</span>
  <span class="token keyword">def</span> read<span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token operator">:</span> <span class="token builtin">String</span> <span class="token operator">=</span> <span class="token punctuation">{</span>
    Source<span class="token punctuation">.</span>fromFile<span class="token punctuation">(</span>file<span class="token punctuation">)</span><span class="token punctuation">.</span>mkString
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span>

<span class="token keyword">object</span> ScalaImplicit<span class="token punctuation">{</span>
  <span class="token keyword">implicit</span> <span class="token keyword">def</span> file2RichFile<span class="token punctuation">(</span>file<span class="token operator">:</span> File<span class="token punctuation">)</span><span class="token operator">:</span>RichFile<span class="token operator">=</span><span class="token punctuation">{</span>
    <span class="token keyword">new</span> RichFile<span class="token punctuation">(</span>file<span class="token punctuation">)</span>
  <span class="token punctuation">}</span>

  <span class="token keyword">def</span> main<span class="token punctuation">(</span>args<span class="token operator">:</span> Array<span class="token punctuation">[</span><span class="token builtin">String</span><span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token operator">:</span> <span class="token builtin">Unit</span> <span class="token operator">=</span> <span class="token punctuation">{</span>
    <span class="token keyword">var</span> file <span class="token operator">=</span> <span class="token keyword">new</span> File<span class="token punctuation">(</span><span class="token string">&quot;D:\\words.txt&quot;</span><span class="token punctuation">)</span>
    println<span class="token punctuation">(</span><span class="token string">&quot;文件的行数：&quot;</span><span class="token operator">+</span>file<span class="token punctuation">.</span>count<span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span>
    println<span class="token punctuation">(</span><span class="token string">&quot;文件的内容：\n&quot;</span><span class="token operator">+</span>file<span class="token punctuation">.</span>read<span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br><span class="line-number">16</span><br><span class="line-number">17</span><br><span class="line-number">18</span><br><span class="line-number">19</span><br><span class="line-number">20</span><br><span class="line-number">21</span><br><span class="line-number">22</span><br><span class="line-number">23</span><br><span class="line-number">24</span><br><span class="line-number">25</span><br><span class="line-number">26</span><br><span class="line-number">27</span><br><span class="line-number">28</span><br><span class="line-number">29</span><br><span class="line-number">30</span><br><span class="line-number">31</span><br><span class="line-number">32</span><br><span class="line-number">33</span><br><span class="line-number">34</span><br><span class="line-number">35</span><br><span class="line-number">36</span><br><span class="line-number">37</span><br><span class="line-number">38</span><br><span class="line-number">39</span><br><span class="line-number">40</span><br><span class="line-number">41</span><br><span class="line-number">42</span><br><span class="line-number">43</span><br></div></div><h4 id="_7-1-3-隐式类"><a href="#_7-1-3-隐式类" class="header-anchor">#</a> 7.1.3 隐式类</h4> <p>在 Scala 中，我们可以在中使用隐式类。如以上案例，可以在ScalaImplicit对象中定义FileRead隐式类，代替掉原先用file2RichFile函数进行类型转换以及在RichFile里定义read()方法的做法，使file对象最终都能调用read()方法</p> <div class="language-scala line-numbers-mode"><pre class="language-scala"><code><span class="token comment">//在类的前面使用implicits修饰的类,称为隐式类</span>
<span class="token comment">//隐式类需要定义在静态代码块(如Object里)中</span>
<span class="token keyword">implicit</span> <span class="token keyword">class</span> FileRead<span class="token punctuation">(</span>file<span class="token operator">:</span>File<span class="token punctuation">)</span><span class="token punctuation">{</span>
    <span class="token keyword">def</span> read <span class="token operator">=</span> Source<span class="token punctuation">.</span>fromFile<span class="token punctuation">(</span>file<span class="token punctuation">)</span><span class="token punctuation">.</span>mkString
<span class="token punctuation">}</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br></div></div><h3 id="_7-2-泛型"><a href="#_7-2-泛型" class="header-anchor">#</a> 7.2 泛型</h3> <p>通俗的讲，比如需要定义一个函数，函数的参数可以接受任意类型。我们不可能一一列举所 有的参数类型重载函数。 那么程序引入了一个称之为泛型的东西，这个类型可以代表任意的数据类型。</p> <p>例如 List，在创建 List 时，可以传入整形、字符串、浮点数等等任意类型。那是因为 List 在类定义时引用了泛型。</p> <div class="language-scala line-numbers-mode"><pre class="language-scala"><code><span class="token keyword">package</span> <span class="token namespace">com<span class="token punctuation">.</span>saint<span class="token punctuation">.</span>scala<span class="token punctuation">.</span>genericsDemo</span>

<span class="token keyword">import</span> <span class="token namespace">com<span class="token punctuation">.</span>saint<span class="token punctuation">.</span>scala<span class="token punctuation">.</span>genericsDemo<span class="token punctuation">.</span></span>ClothesEnum<span class="token punctuation">.</span>ClothesEnum

<span class="token comment">//定义一个服装的泛型类</span>
<span class="token keyword">class</span> Clothes<span class="token punctuation">[</span>A<span class="token punctuation">,</span>B<span class="token punctuation">,</span>C<span class="token punctuation">]</span><span class="token punctuation">(</span><span class="token keyword">val</span> clothType<span class="token operator">:</span>A<span class="token punctuation">,</span> <span class="token keyword">val</span> color<span class="token operator">:</span>B<span class="token punctuation">,</span><span class="token keyword">val</span> size<span class="token operator">:</span>C<span class="token punctuation">)</span><span class="token punctuation">{</span>
  <span class="token keyword">override</span> <span class="token keyword">def</span> toString<span class="token operator">:</span> <span class="token builtin">String</span> <span class="token operator">=</span> <span class="token punctuation">{</span>
    <span class="token string">&quot;Type: &quot;</span><span class="token operator">+</span><span class="token keyword">this</span><span class="token punctuation">.</span>clothType<span class="token operator">+</span><span class="token string">&quot;, Color: &quot;</span><span class="token operator">+</span><span class="token keyword">this</span><span class="token punctuation">.</span>color<span class="token operator">+</span><span class="token string">&quot;, Size: &quot;</span><span class="token operator">+</span><span class="token keyword">this</span><span class="token punctuation">.</span>size
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span>

<span class="token comment">//枚举类</span>
<span class="token keyword">object</span> ClothesEnum <span class="token keyword">extends</span> Enumeration<span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">{</span>
  <span class="token keyword">type</span> ClothesEnum <span class="token operator">=</span> Value
  <span class="token keyword">val</span> 上衣<span class="token punctuation">,</span>裤子<span class="token punctuation">,</span>内衣 <span class="token operator">=</span> Value
<span class="token punctuation">}</span>

<span class="token keyword">object</span> ScalaGenerics <span class="token punctuation">{</span>
  <span class="token keyword">def</span> main<span class="token punctuation">(</span>args<span class="token operator">:</span> Array<span class="token punctuation">[</span><span class="token builtin">String</span><span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token operator">:</span> <span class="token builtin">Unit</span> <span class="token operator">=</span> <span class="token punctuation">{</span>
    <span class="token keyword">val</span> clothes1 <span class="token operator">=</span> <span class="token keyword">new</span> Clothes<span class="token punctuation">[</span>ClothesEnum<span class="token punctuation">,</span><span class="token builtin">String</span><span class="token punctuation">,</span><span class="token builtin">Int</span><span class="token punctuation">]</span><span class="token punctuation">(</span>ClothesEnum<span class="token punctuation">.</span>上衣<span class="token punctuation">,</span><span class="token string">&quot;black&quot;</span><span class="token punctuation">,</span><span class="token number">180</span><span class="token punctuation">)</span>
    <span class="token keyword">val</span> clothes2 <span class="token operator">=</span> <span class="token keyword">new</span> Clothes<span class="token punctuation">[</span>ClothesEnum<span class="token punctuation">,</span><span class="token builtin">String</span><span class="token punctuation">,</span><span class="token builtin">String</span><span class="token punctuation">]</span><span class="token punctuation">(</span>ClothesEnum<span class="token punctuation">.</span>裤子<span class="token punctuation">,</span><span class="token string">&quot;brown&quot;</span><span class="token punctuation">,</span><span class="token string">&quot;XL&quot;</span><span class="token punctuation">)</span>
    println<span class="token punctuation">(</span>clothes1<span class="token punctuation">)</span>
    println<span class="token punctuation">(</span>clothes2<span class="token punctuation">)</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span>

</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br><span class="line-number">16</span><br><span class="line-number">17</span><br><span class="line-number">18</span><br><span class="line-number">19</span><br><span class="line-number">20</span><br><span class="line-number">21</span><br><span class="line-number">22</span><br><span class="line-number">23</span><br><span class="line-number">24</span><br><span class="line-number">25</span><br><span class="line-number">26</span><br></div></div><h3 id="_7-3-类型约束"><a href="#_7-3-类型约束" class="header-anchor">#</a> 7.3 类型约束</h3> <h4 id="_7-3-1-上界-upper-bounds-下界-lower-bounds"><a href="#_7-3-1-上界-upper-bounds-下界-lower-bounds" class="header-anchor">#</a> 7.3.1 上界(Upper Bounds)/下界(lower bounds)</h4> <h5 id="_1-upper-bounds"><a href="#_1-upper-bounds" class="header-anchor">#</a> 1)Upper Bounds</h5> <p>在 Java 泛型里表示某个类型是 Test 类型的子类型，使用 extends 关键字:</p> <div class="language-java line-numbers-mode"><pre class="language-java"><code><span class="token generics"><span class="token punctuation">&lt;</span><span class="token class-name">T</span> <span class="token keyword">extends</span> <span class="token class-name">Test</span><span class="token punctuation">&gt;</span></span>

<span class="token comment">//或用通配符的形式:</span>
<span class="token generics"><span class="token punctuation">&lt;</span><span class="token operator">?</span> <span class="token keyword">extends</span> <span class="token class-name">Test</span><span class="token punctuation">&gt;</span></span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br></div></div><p>这种形式也叫 upper bounds(上限或上界)，同样的意思在 Scala 的写法为:</p> <div class="language-scala line-numbers-mode"><pre class="language-scala"><code><span class="token punctuation">[</span>T <span class="token operator">&lt;</span><span class="token operator">:</span> Test<span class="token punctuation">]</span>

<span class="token comment">//或用通配符:</span>
<span class="token punctuation">[</span>_ <span class="token operator">&lt;</span><span class="token operator">:</span> Test<span class="token punctuation">]</span>

<span class="token keyword">def</span> pr<span class="token punctuation">(</span>list <span class="token operator">:</span> List<span class="token punctuation">[</span>_ <span class="token operator">&lt;</span><span class="token operator">:</span> <span class="token builtin">Any</span><span class="token punctuation">]</span><span class="token punctuation">)</span> <span class="token punctuation">{</span> 
list<span class="token punctuation">.</span>foreach<span class="token punctuation">(</span>print<span class="token punctuation">)</span>
<span class="token punctuation">}</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br></div></div><div class="language-scala line-numbers-mode"><pre class="language-scala"><code><span class="token keyword">class</span> CmpComm<span class="token punctuation">[</span>T <span class="token operator">&lt;</span><span class="token operator">:</span> Comparable<span class="token punctuation">[</span>T<span class="token punctuation">]</span><span class="token punctuation">]</span><span class="token punctuation">(</span>o1<span class="token operator">:</span>T <span class="token punctuation">,</span>o2<span class="token operator">:</span>T<span class="token punctuation">)</span><span class="token punctuation">{</span>
  <span class="token keyword">def</span> bigger<span class="token operator">=</span><span class="token keyword">if</span> <span class="token punctuation">(</span>o1<span class="token punctuation">.</span>compareTo<span class="token punctuation">(</span>o2<span class="token punctuation">)</span><span class="token operator">&gt;</span><span class="token number">0</span><span class="token punctuation">)</span> o1 <span class="token keyword">else</span> o2
<span class="token punctuation">}</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br></div></div><h5 id="_2-lower-bounds"><a href="#_2-lower-bounds" class="header-anchor">#</a> 2)Lower Bounds</h5> <p>在 Java 泛型里表示某个类型是 Test 类型的父类型，使用 super 关键字:</p> <div class="language-java line-numbers-mode"><pre class="language-java"><code><span class="token generics"><span class="token punctuation">&lt;</span><span class="token class-name">T</span> <span class="token keyword">super</span> <span class="token class-name">Test</span><span class="token punctuation">&gt;</span></span>

<span class="token comment">//或用通配符的形式: </span>
<span class="token generics"><span class="token punctuation">&lt;</span><span class="token operator">?</span> <span class="token keyword">super</span> <span class="token class-name">Test</span><span class="token punctuation">&gt;</span></span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br></div></div><p>这种形式也叫 lower bounds(下限或下界)，同样的意思在 scala 的写法为:</p> <div class="language-scala line-numbers-mode"><pre class="language-scala"><code><span class="token punctuation">[</span>T <span class="token operator">&gt;</span><span class="token operator">:</span> Test<span class="token punctuation">]</span>

<span class="token comment">//或用通配符: </span>
<span class="token punctuation">[</span>_ <span class="token operator">&gt;</span><span class="token operator">:</span> Test<span class="token punctuation">]</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br></div></div><h4 id="_7-3-2-视图界定-上下文界定"><a href="#_7-3-2-视图界定-上下文界定" class="header-anchor">#</a> 7.3.2 视图界定/上下文界定</h4> <h5 id="view-bounds"><a href="#view-bounds" class="header-anchor">#</a> View bounds</h5> <p>&lt;% 的意思是“view bounds”(视界)，它比&lt;:适用的范围更广，除了所有的子类型，还允许隐式转换过去的类型。</p> <div class="language-scala line-numbers-mode"><pre class="language-scala"><code><span class="token keyword">def</span> method <span class="token punctuation">[</span>A <span class="token operator">&lt;</span><span class="token operator">%</span> B<span class="token punctuation">]</span><span class="token punctuation">(</span>arglist<span class="token punctuation">)</span><span class="token operator">:</span> R <span class="token operator">=</span> <span class="token punctuation">.</span><span class="token punctuation">.</span><span class="token punctuation">.</span>
等价于<span class="token operator">:</span>
<span class="token keyword">def</span> method <span class="token punctuation">[</span>A<span class="token punctuation">]</span><span class="token punctuation">(</span>arglist<span class="token punctuation">)</span><span class="token punctuation">(</span><span class="token keyword">implicit</span> viewAB<span class="token operator">:</span> A <span class="token keyword">=&gt;</span> B<span class="token punctuation">)</span><span class="token operator">:</span> R <span class="token operator">=</span> <span class="token punctuation">.</span><span class="token punctuation">.</span><span class="token punctuation">.</span>
或等价于<span class="token operator">:</span>
<span class="token keyword">implicit</span> <span class="token keyword">def</span> conver<span class="token punctuation">(</span>a<span class="token operator">:</span>A<span class="token punctuation">)</span><span class="token operator">:</span> B <span class="token operator">=</span> <span class="token punctuation">.</span><span class="token punctuation">.</span><span class="token punctuation">.</span>
<span class="token operator">&lt;</span><span class="token operator">%</span> 除了方法使用之外，<span class="token keyword">class</span> 声明类型参数时也可使用<span class="token operator">:</span> <span class="token keyword">class</span> A<span class="token punctuation">[</span>T <span class="token operator">&lt;</span><span class="token operator">%</span> <span class="token builtin">Int</span><span class="token punctuation">]</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br></div></div><div class="language-scala line-numbers-mode"><pre class="language-scala"><code><span class="token comment">/**
  * 视图界定 : &lt;% ,会自动发生隐式转换
  */</span>
<span class="token keyword">class</span> CmpComm<span class="token punctuation">[</span>T <span class="token operator">&lt;</span><span class="token operator">%</span> Comparable<span class="token punctuation">[</span>T<span class="token punctuation">]</span><span class="token punctuation">]</span><span class="token punctuation">(</span>o1<span class="token operator">:</span>T <span class="token punctuation">,</span>o2<span class="token operator">:</span>T<span class="token punctuation">)</span><span class="token punctuation">{</span>
  <span class="token keyword">def</span> bigger<span class="token operator">=</span><span class="token keyword">if</span><span class="token punctuation">(</span>o1<span class="token punctuation">.</span>compareTo<span class="token punctuation">(</span>o2<span class="token punctuation">)</span><span class="token operator">&gt;</span><span class="token number">0</span><span class="token punctuation">)</span> o1 <span class="token keyword">else</span> o2
<span class="token punctuation">}</span>
<span class="token comment">/**
  * 视图界定的另一种实现
 */</span>
<span class="token keyword">class</span> CmpComm<span class="token punctuation">[</span>T <span class="token operator">&lt;</span><span class="token operator">%</span> Ordered<span class="token punctuation">[</span>T<span class="token punctuation">]</span><span class="token punctuation">]</span><span class="token punctuation">(</span>o1<span class="token operator">:</span>T <span class="token punctuation">,</span>o2<span class="token operator">:</span>T<span class="token punctuation">)</span><span class="token punctuation">{</span>
  <span class="token keyword">def</span> bigger<span class="token operator">=</span><span class="token keyword">if</span> <span class="token punctuation">(</span>o1 <span class="token operator">&gt;</span> o2<span class="token punctuation">)</span> o1 <span class="token keyword">else</span> o2
<span class="token punctuation">}</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br></div></div><h5 id="context-bounds"><a href="#context-bounds" class="header-anchor">#</a> Context bounds</h5> <p>&quot;:&quot;表示，与 view bounds 一样 context bounds(上下文界定)也是隐式参数的语法糖。为语法上的方便， 引入了”上下文界定”这个概念。</p> <div class="language-scala line-numbers-mode"><pre class="language-scala"><code><span class="token keyword">class</span> CmpComm<span class="token punctuation">[</span>T<span class="token operator">:</span>Ordering<span class="token punctuation">]</span><span class="token punctuation">(</span>o1<span class="token operator">:</span>T <span class="token punctuation">,</span>o2<span class="token operator">:</span>T<span class="token punctuation">)</span><span class="token punctuation">{</span>
  <span class="token comment">//隐式转换</span>
  <span class="token keyword">var</span> cmptor <span class="token operator">=</span> implicitly<span class="token punctuation">[</span>Ordering<span class="token punctuation">[</span>T<span class="token punctuation">]</span><span class="token punctuation">]</span>
  <span class="token keyword">def</span> bigger<span class="token operator">=</span> <span class="token keyword">if</span><span class="token punctuation">(</span>cmptor<span class="token punctuation">.</span>compare<span class="token punctuation">(</span>o1<span class="token punctuation">,</span>o2<span class="token punctuation">)</span><span class="token operator">&gt;</span><span class="token number">0</span><span class="token punctuation">)</span> o1 <span class="token keyword">else</span> o2
<span class="token punctuation">}</span>
<span class="token comment">//或</span>
<span class="token keyword">class</span> CmpComm<span class="token punctuation">[</span>T<span class="token operator">:</span>Ordering<span class="token punctuation">]</span><span class="token punctuation">(</span>o1<span class="token operator">:</span>T <span class="token punctuation">,</span>o2<span class="token operator">:</span>T<span class="token punctuation">)</span><span class="token punctuation">(</span><span class="token keyword">implicit</span> cmptor<span class="token operator">:</span>Ordering<span class="token punctuation">[</span>T<span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token punctuation">{</span>
  <span class="token keyword">def</span> bigger<span class="token operator">=</span> <span class="token keyword">if</span><span class="token punctuation">(</span>cmptor<span class="token punctuation">.</span>compare<span class="token punctuation">(</span>o1<span class="token punctuation">,</span>o2<span class="token punctuation">)</span><span class="token operator">&gt;</span><span class="token number">0</span><span class="token punctuation">)</span> o1 <span class="token keyword">else</span> o2
<span class="token punctuation">}</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br></div></div></div></section> <footer class="page-edit"><!----> <!----></footer> <!----> <div class="comments-wrapper"><!----></div></main></div> <!----></div> <ul class="sub-sidebar sub-sidebar-wrapper" style="width:12rem;" data-v-b57cc07c data-v-7dd95ae2><li class="level-2" data-v-b57cc07c><a href="/blogs/BigData/Scala/Scala.html#_1-scala介绍" class="sidebar-link reco-side-_1-scala介绍" data-v-b57cc07c>1.Scala介绍</a></li><li class="level-3" data-v-b57cc07c><a href="/blogs/BigData/Scala/Scala.html#_1-1什么是scala" class="sidebar-link reco-side-_1-1什么是scala" data-v-b57cc07c>1.1什么是Scala</a></li><li class="level-3" data-v-b57cc07c><a href="/blogs/BigData/Scala/Scala.html#_1-2为什么要学scala" class="sidebar-link reco-side-_1-2为什么要学scala" data-v-b57cc07c>1.2为什么要学Scala</a></li><li class="level-2" data-v-b57cc07c><a href="/blogs/BigData/Scala/Scala.html#_2-开发环境准备" class="sidebar-link reco-side-_2-开发环境准备" data-v-b57cc07c>2.开发环境准备</a></li><li class="level-3" data-v-b57cc07c><a href="/blogs/BigData/Scala/Scala.html#_2-1scala的安装" class="sidebar-link reco-side-_2-1scala的安装" data-v-b57cc07c>2.1Scala的安装</a></li><li class="level-3" data-v-b57cc07c><a href="/blogs/BigData/Scala/Scala.html#_2-2-idea-scala插件的安装" class="sidebar-link reco-side-_2-2-idea-scala插件的安装" data-v-b57cc07c>2.2.IDEA Scala插件的安装</a></li><li class="level-3" data-v-b57cc07c><a href="/blogs/BigData/Scala/Scala.html#_2-3idea创建helloscala工程" class="sidebar-link reco-side-_2-3idea创建helloscala工程" data-v-b57cc07c>2.3Idea创建HelloScala工程</a></li><li class="level-2" data-v-b57cc07c><a href="/blogs/BigData/Scala/Scala.html#_3-基本语法" class="sidebar-link reco-side-_3-基本语法" data-v-b57cc07c>3.基本语法</a></li><li class="level-3" data-v-b57cc07c><a href="/blogs/BigData/Scala/Scala.html#_3-1-scala函数式编程体验优越感" class="sidebar-link reco-side-_3-1-scala函数式编程体验优越感" data-v-b57cc07c>3.1 Scala函数式编程体验优越感</a></li><li class="level-3" data-v-b57cc07c><a href="/blogs/BigData/Scala/Scala.html#_3-2-scala交互模式-窗口" class="sidebar-link reco-side-_3-2-scala交互模式-窗口" data-v-b57cc07c>3.2 Scala交互模式(窗口)</a></li><li class="level-3" data-v-b57cc07c><a href="/blogs/BigData/Scala/Scala.html#_3-3-数据类型" class="sidebar-link reco-side-_3-3-数据类型" data-v-b57cc07c>3.3 数据类型</a></li><li class="level-3" data-v-b57cc07c><a href="/blogs/BigData/Scala/Scala.html#_3-4-变量的定义" class="sidebar-link reco-side-_3-4-变量的定义" data-v-b57cc07c>3.4 变量的定义</a></li><li class="level-3" data-v-b57cc07c><a href="/blogs/BigData/Scala/Scala.html#_3-5-字符串的格式化输出" class="sidebar-link reco-side-_3-5-字符串的格式化输出" data-v-b57cc07c>3.5 字符串的格式化输出</a></li><li class="level-3" data-v-b57cc07c><a href="/blogs/BigData/Scala/Scala.html#_3-6-条件表达式" class="sidebar-link reco-side-_3-6-条件表达式" data-v-b57cc07c>3.6 条件表达式</a></li><li class="level-3" data-v-b57cc07c><a href="/blogs/BigData/Scala/Scala.html#_3-7-循环语句-yield关键字" class="sidebar-link reco-side-_3-7-循环语句-yield关键字" data-v-b57cc07c>3.7  循环语句/yield关键字</a></li><li class="level-3" data-v-b57cc07c><a href="/blogs/BigData/Scala/Scala.html#_3-8-运算符-运算符重载" class="sidebar-link reco-side-_3-8-运算符-运算符重载" data-v-b57cc07c>3.8 运算符/运算符重载</a></li><li class="level-3" data-v-b57cc07c><a href="/blogs/BigData/Scala/Scala.html#_3-9-方法的定义与调用" class="sidebar-link reco-side-_3-9-方法的定义与调用" data-v-b57cc07c>3.9 方法的定义与调用</a></li><li class="level-3" data-v-b57cc07c><a href="/blogs/BigData/Scala/Scala.html#_3-10-函数的定义与调用" class="sidebar-link reco-side-_3-10-函数的定义与调用" data-v-b57cc07c>3.10 函数的定义与调用</a></li><li class="level-3" data-v-b57cc07c><a href="/blogs/BigData/Scala/Scala.html#_3-11-传值调用与传名调用" class="sidebar-link reco-side-_3-11-传值调用与传名调用" data-v-b57cc07c>3.11 传值调用与传名调用</a></li><li class="level-3" data-v-b57cc07c><a href="/blogs/BigData/Scala/Scala.html#_3-12-可变参数函数-底层数组" class="sidebar-link reco-side-_3-12-可变参数函数-底层数组" data-v-b57cc07c>3.12 可变参数函数（底层数组）</a></li><li class="level-3" data-v-b57cc07c><a href="/blogs/BigData/Scala/Scala.html#_3-13-默认参数值函数" class="sidebar-link reco-side-_3-13-默认参数值函数" data-v-b57cc07c>3.13 默认参数值函数</a></li><li class="level-3" data-v-b57cc07c><a href="/blogs/BigData/Scala/Scala.html#_3-14-高阶函数" class="sidebar-link reco-side-_3-14-高阶函数" data-v-b57cc07c>3.14 高阶函数</a></li><li class="level-3" data-v-b57cc07c><a href="/blogs/BigData/Scala/Scala.html#_3-15-部分参数应用函数" class="sidebar-link reco-side-_3-15-部分参数应用函数" data-v-b57cc07c>3.15 部分参数应用函数</a></li><li class="level-3" data-v-b57cc07c><a href="/blogs/BigData/Scala/Scala.html#_3-16-柯里化-currying" class="sidebar-link reco-side-_3-16-柯里化-currying" data-v-b57cc07c>3.16 柯里化(Currying)</a></li><li class="level-3" data-v-b57cc07c><a href="/blogs/BigData/Scala/Scala.html#_3-17-偏函数" class="sidebar-link reco-side-_3-17-偏函数" data-v-b57cc07c>3.17 偏函数</a></li><li class="level-3" data-v-b57cc07c><a href="/blogs/BigData/Scala/Scala.html#_3-18-数组的定义" class="sidebar-link reco-side-_3-18-数组的定义" data-v-b57cc07c>3.18 数组的定义</a></li><li class="level-3" data-v-b57cc07c><a href="/blogs/BigData/Scala/Scala.html#_3-19-map-flatten-flatmap-foreach方法的使用" class="sidebar-link reco-side-_3-19-map-flatten-flatmap-foreach方法的使用" data-v-b57cc07c>3.19 map\|flatten\|flatMap\|foreach方法的使用</a></li><li class="level-2" data-v-b57cc07c><a href="/blogs/BigData/Scala/Scala.html#_4-集合的使用" class="sidebar-link reco-side-_4-集合的使用" data-v-b57cc07c>4.集合的使用</a></li><li class="level-3" data-v-b57cc07c><a href="/blogs/BigData/Scala/Scala.html#_4-1-定长数组和变长数组" class="sidebar-link reco-side-_4-1-定长数组和变长数组" data-v-b57cc07c>4.1 定长数组和变长数组</a></li><li class="level-3" data-v-b57cc07c><a href="/blogs/BigData/Scala/Scala.html#_4-2-seq序列" class="sidebar-link reco-side-_4-2-seq序列" data-v-b57cc07c>4.2 seq序列</a></li><li class="level-3" data-v-b57cc07c><a href="/blogs/BigData/Scala/Scala.html#_4-3-set集合" class="sidebar-link reco-side-_4-3-set集合" data-v-b57cc07c>4.3 set集合</a></li><li class="level-3" data-v-b57cc07c><a href="/blogs/BigData/Scala/Scala.html#_4-4-map映射" class="sidebar-link reco-side-_4-4-map映射" data-v-b57cc07c>4.4 map映射</a></li><li class="level-3" data-v-b57cc07c><a href="/blogs/BigData/Scala/Scala.html#_4-5-元组" class="sidebar-link reco-side-_4-5-元组" data-v-b57cc07c>4.5 元组</a></li><li class="level-3" data-v-b57cc07c><a href="/blogs/BigData/Scala/Scala.html#_4-6-集合常用方法" class="sidebar-link reco-side-_4-6-集合常用方法" data-v-b57cc07c>4.6 集合常用方法</a></li><li class="level-3" data-v-b57cc07c><a href="/blogs/BigData/Scala/Scala.html#_4-7-并行化集合par" class="sidebar-link reco-side-_4-7-并行化集合par" data-v-b57cc07c>4.7 并行化集合par</a></li><li class="level-3" data-v-b57cc07c><a href="/blogs/BigData/Scala/Scala.html#_4-8-map和option" class="sidebar-link reco-side-_4-8-map和option" data-v-b57cc07c>4.8 Map和Option</a></li><li class="level-2" data-v-b57cc07c><a href="/blogs/BigData/Scala/Scala.html#_5-面向对象" class="sidebar-link reco-side-_5-面向对象" data-v-b57cc07c>5.面向对象</a></li><li class="level-3" data-v-b57cc07c><a href="/blogs/BigData/Scala/Scala.html#_5-1-scala单例对象" class="sidebar-link reco-side-_5-1-scala单例对象" data-v-b57cc07c>5.1 Scala单例对象</a></li><li class="level-3" data-v-b57cc07c><a href="/blogs/BigData/Scala/Scala.html#_5-2-scala类" class="sidebar-link reco-side-_5-2-scala类" data-v-b57cc07c>5.2 Scala类</a></li><li class="level-3" data-v-b57cc07c><a href="/blogs/BigData/Scala/Scala.html#_5-3-特质" class="sidebar-link reco-side-_5-3-特质" data-v-b57cc07c>5.3 特质</a></li><li class="level-3" data-v-b57cc07c><a href="/blogs/BigData/Scala/Scala.html#_5-4-抽象类" class="sidebar-link reco-side-_5-4-抽象类" data-v-b57cc07c>5.4 抽象类</a></li><li class="level-3" data-v-b57cc07c><a href="/blogs/BigData/Scala/Scala.html#_5-5-继承" class="sidebar-link reco-side-_5-5-继承" data-v-b57cc07c>5.5 继承</a></li><li class="level-3" data-v-b57cc07c><a href="/blogs/BigData/Scala/Scala.html#_5-6-样例类-样例对象" class="sidebar-link reco-side-_5-6-样例类-样例对象" data-v-b57cc07c>5.6 样例类\|样例对象</a></li><li class="level-2" data-v-b57cc07c><a href="/blogs/BigData/Scala/Scala.html#_6-模式匹配-match-case" class="sidebar-link reco-side-_6-模式匹配-match-case" data-v-b57cc07c>6.模式匹配(match case)</a></li><li class="level-3" data-v-b57cc07c><a href="/blogs/BigData/Scala/Scala.html#_6-1-匹配字符串-类型-守卫" class="sidebar-link reco-side-_6-1-匹配字符串-类型-守卫" data-v-b57cc07c>6.1 匹配字符串\|类型\|守卫</a></li><li class="level-3" data-v-b57cc07c><a href="/blogs/BigData/Scala/Scala.html#_6-2-匹配数组" class="sidebar-link reco-side-_6-2-匹配数组" data-v-b57cc07c>6.2 匹配数组</a></li><li class="level-3" data-v-b57cc07c><a href="/blogs/BigData/Scala/Scala.html#_6-3-匹配集合" class="sidebar-link reco-side-_6-3-匹配集合" data-v-b57cc07c>6.3 匹配集合</a></li><li class="level-3" data-v-b57cc07c><a href="/blogs/BigData/Scala/Scala.html#_6-4匹配元组" class="sidebar-link reco-side-_6-4匹配元组" data-v-b57cc07c>6.4匹配元组</a></li><li class="level-3" data-v-b57cc07c><a href="/blogs/BigData/Scala/Scala.html#_6-5-匹配样例类-样列对象" class="sidebar-link reco-side-_6-5-匹配样例类-样列对象" data-v-b57cc07c>6.5 匹配样例类\|样列对象</a></li><li class="level-2" data-v-b57cc07c><a href="/blogs/BigData/Scala/Scala.html#_7-scala高级语法" class="sidebar-link reco-side-_7-scala高级语法" data-v-b57cc07c>7.Scala高级语法</a></li><li class="level-3" data-v-b57cc07c><a href="/blogs/BigData/Scala/Scala.html#_7-1隐式-implicit-详解" class="sidebar-link reco-side-_7-1隐式-implicit-详解" data-v-b57cc07c>7.1隐式(implicit)详解</a></li><li class="level-3" data-v-b57cc07c><a href="/blogs/BigData/Scala/Scala.html#_7-2-泛型" class="sidebar-link reco-side-_7-2-泛型" data-v-b57cc07c>7.2 泛型</a></li><li class="level-3" data-v-b57cc07c><a href="/blogs/BigData/Scala/Scala.html#_7-3-类型约束" class="sidebar-link reco-side-_7-3-类型约束" data-v-b57cc07c>7.3 类型约束</a></li></ul></div></div></div><div class="global-ui"><div class="back-to-ceiling" style="right:1rem;bottom:6rem;width:2.5rem;height:2.5rem;border-radius:.25rem;line-height:2.5rem;display:none;" data-v-c6073ba8 data-v-c6073ba8><svg t="1574745035067" viewBox="0 0 1024 1024" version="1.1" xmlns="http://www.w3.org/2000/svg" p-id="5404" class="icon" data-v-c6073ba8><path d="M526.60727968 10.90185116a27.675 27.675 0 0 0-29.21455937 0c-131.36607665 82.28402758-218.69155461 228.01873535-218.69155402 394.07834331a462.20625001 462.20625001 0 0 0 5.36959153 69.94390903c1.00431239 6.55289093-0.34802892 13.13561351-3.76865779 18.80351572-32.63518765 54.11355614-51.75690182 118.55860487-51.7569018 187.94566865a371.06718723 371.06718723 0 0 0 11.50484808 91.98906777c6.53300375 25.50556257 41.68394495 28.14064038 52.69160883 4.22606766 17.37162448-37.73630017 42.14135425-72.50938081 72.80769204-103.21549295 2.18761121 3.04276886 4.15646224 6.24463696 6.40373557 9.22774369a1871.4375 1871.4375 0 0 0 140.04691725 5.34970492 1866.36093723 1866.36093723 0 0 0 140.04691723-5.34970492c2.24727335-2.98310674 4.21612437-6.18497483 6.3937923-9.2178004 30.66633723 30.70611158 55.4360664 65.4791928 72.80769147 103.21549355 11.00766384 23.91457269 46.15860503 21.27949489 52.69160879-4.22606768a371.15156223 371.15156223 0 0 0 11.514792-91.99901164c0-69.36717486-19.13165746-133.82216804-51.75690182-187.92578088-3.42062944-5.66790279-4.76302748-12.26056868-3.76865837-18.80351632a462.20625001 462.20625001 0 0 0 5.36959269-69.943909c-0.00994388-166.08943902-87.32547796-311.81420293-218.6915546-394.09823051zM605.93803103 357.87693858a93.93749974 93.93749974 0 1 1-187.89594924 6.1e-7 93.93749974 93.93749974 0 0 1 187.89594924-6.1e-7z" p-id="5405" data-v-c6073ba8></path><path d="M429.50777625 765.63860547C429.50777625 803.39355007 466.44236686 1000.39046097 512.00932183 1000.39046097c45.56695499 0 82.4922232-197.00623328 82.5015456-234.7518555 0-37.75494459-36.9345906-68.35043303-82.4922232-68.34111062-45.57627738-0.00932239-82.52019037 30.59548842-82.51086798 68.34111062z" p-id="5406" data-v-c6073ba8></path></svg></div><!----><div class="RibbonAnimation"></div><div></div></div></div>
    <script src="/assets/js/app.4c955a77.js" defer></script><script src="/assets/js/4.1f64e010.js" defer></script><script src="/assets/js/1.2b09ee83.js" defer></script><script src="/assets/js/12.46caf217.js" defer></script>
  </body>
</html>
